"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[3216],{5181:function(e,r,t){t.d(r,{rC:function(){return i},sl:function(){return d},uI:function(){return c},zk:function(){return l}});var s=t(4165),n=t(5861),a=t(1243),c=function(){return function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r,t){var n,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().loginUserReducer.currentUser,r({type:"USER_ORDER_REQUEST"}),e.prev=2,e.next=5,a.Z.post("/api/orders/getuserorder",{email:n.email});case 5:c=e.sent,r({type:"USER_ORDER_SUCCESS",payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r({type:"USER_ORDER_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(r,t){return e.apply(this,arguments)}}()},l=function(){return function(){var e=(0,n.Z)((0,s.Z)().mark((function e(r,t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,a.Z.get("/api/orders/alluserorder");case 4:n=e.sent,r({type:"ALL_ORDER_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}()},i=function(e){return function(){var r=(0,n.Z)((0,s.Z)().mark((function r(t,n){var c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_ALL_ORDER_REQUEST"}),r.prev=1,r.next=4,a.Z.post("/api/orders/deliverorder",{orderid:e});case 4:return r.next=6,a.Z.get("/api/orders/alluserorder");case 6:c=r.sent,t({type:"GET_ALL_ORDER_SUCCESS",payload:c.data}),window.location.href="/admin/orderlist",r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),t({type:"GET_ALL_ORDER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e,t){return r.apply(this,arguments)}}()},d=function(e){return function(){var r=(0,n.Z)((0,s.Z)().mark((function r(t,n){var c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_ALL_ORDER_REQUEST"}),r.prev=1,r.next=4,a.Z.post("/api/orders/canceOrder",{orderid:e});case 4:return r.next=6,a.Z.get("/api/orders/alluserorder");case 6:c=r.sent,t({type:"GET_ALL_ORDER_SUCCESS",payload:c.data}),window.location.href="/admin/orderlist",r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),t({type:"GET_ALL_ORDER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e,t){return r.apply(this,arguments)}}()}},3216:function(e,r,t){t.r(r);var s=t(2791),n=t(6355),a=t(9434),c=t(5181),l=t(184);r.default=function(){var e=(0,a.v9)((function(e){return e.getUserOrdersReducer})),r=e.loading,t=e.error,i=e.orders,d=(0,a.I0)();(0,s.useEffect)((function(){d((0,c.uI)())}),[d]);var o=function(e){var r=new Date(e);return"".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear())};return 0===i.length?(0,l.jsx)("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Order Details"}),(0,l.jsx)("div",{className:"text-red-500 text-xl mb-4",children:"You don't have any orders."})]})}):(0,l.jsx)("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"max-w-4xl w-full mx-auto bg-white rounded-md shadow-md p-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Order Details"}),r?(0,l.jsx)("p",{children:"Loading..."}):t?(0,l.jsxs)("p",{children:["Error: ",t]}):i.map((function(e){return(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold",children:["Order ID: ",e._id]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"mr-2",children:"Status:"}),(r=e.isDelivered,t=e.isCanceled,t?(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex items-center text-red-500",children:[(0,l.jsx)("div",{className:"w-6 h-6 mr-2",children:(0,l.jsx)(n.G5m,{className:"w-full h-full"})}),(0,l.jsx)("span",{className:"font-bold",children:"Cancelled"})]})}):r?(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex items-center text-green-500",children:[(0,l.jsx)("div",{className:"w-6 h-6 mr-2",children:(0,l.jsx)(n.FJM,{className:"w-full h-full"})}),(0,l.jsx)("span",{className:"font-bold",children:"Delivered"})]})}):s?(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex items-center text-yellow-500",children:[(0,l.jsx)("div",{className:"w-6 h-6 mr-2",children:(0,l.jsx)(n.koH,{className:"w-full h-full animate-spin"})}),(0,l.jsx)("span",{className:"font-bold",children:"Processing"})]})}):void 0)]}),(0,l.jsxs)("p",{className:"text-gray-500",children:["Order Date: ",o(e.createdAt)]}),(0,l.jsx)("h3",{className:"text-lg font-bold mt-4",children:"Order Items"}),e.orderItems.map((function(e){return(0,l.jsxs)("div",{className:"flex items-center justify-start mb-2",children:[(0,l.jsx)("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-md object-cover mr-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-md font-bold",children:e.name}),(0,l.jsx)("p",{children:e.variant}),(0,l.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,l.jsxs)("p",{children:["Price: Rs ",e.price]})]})]},e._id)})),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,l.jsx)("p",{className:"text-md font-bold",children:"Total:"}),(0,l.jsxs)("p",{className:"text-md",children:["$",e.orderAmount]})]}),(0,l.jsx)("h3",{className:"text-lg font-bold mt-6",children:"Shipping Address"}),(0,l.jsx)("p",{children:e.shippingAddress.street}),(0,l.jsxs)("p",{children:[e.shippingAddress.city,", ",e.shippingAddress.country,", ",e.shippingAddress.postal_code]}),(0,l.jsx)("hr",{className:"my-6 border-gray-900 w-30"})]},e._id.$oid);var r,t,s}))]})})}}}]);
//# sourceMappingURL=3216.cfc5acef.chunk.js.map