"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[7942],{7942:function(e,s,n){n.r(s);var t=n(1413),c=n(9439),o=n(2791),a=n(1243),l=n(3853),i=n(184),r=function(e){var s=e.contact,n=e.handleIssueResolved,t=(0,o.useState)(!1),r=(0,c.Z)(t,2),d=r[0],u=r[1];return(0,i.jsx)("li",{className:"py-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("p",{className:"font-semibold",children:[(0,i.jsx)("strong",{children:"Name"}),": ",s.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Email"}),": ",s.email]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Mobile Number"}),": ",s.mobileNumber]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Subject"}),": ",s.subject]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Message"}),": ",s.message]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Issue Resolved"}),": ",s.issueResolved?"Yes":"No"]}),!s.issueResolved&&(0,i.jsxs)("button",{className:"font-bold py-2 px-4 rounded bg-green-500 hover:bg-green-700 text-white",onClick:function(){u(!0),a.Z.patch("http://localhost:8080/admin/contacts/".concat(s._id),{issueResolved:!0}).then((function(e){console.log("Contact updated:",e.data),u(!1),n(s._id)})).catch((function(e){console.log("An error occurred while updating the contact:",e),u(!1)}))},disabled:d,children:[d?(0,i.jsx)("span",{className:"mr-2",children:(0,i.jsx)(l.dAq,{className:"inline-block animate-spin"})}):null,"Resolve Issue"]})]})})};s.default=function(){var e=(0,o.useState)([]),s=(0,c.Z)(e,2),n=s[0],l=s[1];(0,o.useEffect)((function(){d()}),[]);var d=function(){a.Z.get("http://localhost:8080/admin/contacts").then((function(e){l(e.data)})).catch((function(e){console.log("An error occurred while fetching the contacts:",e)}))},u=function(e){var s=n.map((function(s){return s._id===e?(0,t.Z)((0,t.Z)({},s),{},{issueResolved:!0}):s}));l(s)};return(0,i.jsxs)("div",{className:"container mx-auto p-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Contact Form Submissions"}),n.length>0?(0,i.jsx)("ul",{className:"divide-y divide-gray-300",children:n.map((function(e){return(0,i.jsx)(r,{contact:e,handleIssueResolved:u},e._id)}))}):(0,i.jsx)("p",{className:"text-gray-500",children:"No contact form submissions found."})]})}}}]);
//# sourceMappingURL=7942.4f4cf645.chunk.js.map