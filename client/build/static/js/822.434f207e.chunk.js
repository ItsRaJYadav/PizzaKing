"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[822],{4822:function(e,t,r){r.d(t,{AW:function(){return d},TX:function(){return u},a$:function(){return c},h8:function(){return p},pH:function(){return i}});var n=r(4165),s=r(5861),a=r(1243),o=r(2062),l=r.n(o),c=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/register",e);case 4:r({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?r({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):r({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},i=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){var s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/login",e);case 4:s=t.sent,console.log(s),r({type:"USER_LOGIN_SUCCESS",payload:s.data}),localStorage.setItem("currentUser",JSON.stringify(s.data)),window.location.href="/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"USER_LOGIN_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},d=function(){return function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,a.Z.get("/api/users/getallusers");case 4:r=e.sent,t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,s.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/api/users/deleteuser",{userid:e});case 3:l()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},5822:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(4165),s=r(5861),a=r(9439),o=r(2791),l=r(1087),c=r(9434),i=r(4822),u=r(4270),d=r(6856),p=r(978),f=r(8880),m=r(1830),x=r.n(m),h=r(184),g=function(){var e=(0,f.D3)().loginWithRedirect,t=(0,o.useState)(""),r=(0,a.Z)(t,2),m=r[0],g=r[1],b=(0,o.useState)(""),y=(0,a.Z)(b,2),v=y[0],w=y[1],S=(0,o.useState)(!1),j=(0,a.Z)(S,2),E=j[0],N=j[1],k=(0,c.I0)();(0,o.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]);var Z=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E){e.next=4;break}return x().fire({icon:"error",title:"Please check the agreement box!",showConfirmButton:!1,timer:2e3}),e.abrupt("return");case 4:r={email:m,password:v},1===k((0,i.pH)(r)).status?alert("Login not successful!"):x().fire({icon:"success",title:"Login successful!",showConfirmButton:!1,timer:2e3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(0,o.useState)(!1),U=(0,a.Z)(R,2),_=U[0],C=U[1];return(0,h.jsxs)("div",{children:[(0,h.jsx)(u.q,{children:(0,h.jsx)("title",{children:"Login"})}),(0,h.jsx)("div",{className:"flex justify-center items-centerw-full lg:w-1/2 xl:w-2/5 px-4 mb-16 lg:mb-0 mx-auto  items-center",children:(0,h.jsxs)("div",{className:" lg:py-20 mx-auto lg:mr-0",children:[(0,h.jsx)("h3",{className:"font-heading text-4xl text-gray-900 font-semibold mb-4",children:"Sign in to your account"}),(0,h.jsx)("p",{className:"text-lg text-gray-500 mb-10",children:"Greetings on your return! We kindly request you to enter your details."}),(0,h.jsx)("div",{className:"w-full md:w-1/2 px-2 mb-3 md:mb-0 flex items-center justify-end ml-24",children:(0,h.jsxs)("button",{onClick:function(){return e()},className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-full shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",children:[(0,h.jsx)(p.hZJ,{className:"mr-2"}),(0,h.jsx)("span",{className:"text-sm font-semibold text-gray-100",children:"Login with Auth"})]})}),(0,h.jsxs)("div",{className:"flex mb-6 items-center",children:[(0,h.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,h.jsx)("span",{className:"mx-4 text-sm font-semibold text-gray-500",children:"Or"}),(0,h.jsx)("div",{className:"w-full h-px bg-gray-300"})]}),(0,h.jsxs)("form",{onSubmit:Z,children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("label",{className:"block mb-1.5 text-sm text-gray-900 font-semibold",htmlFor:"",children:"Email"}),(0,h.jsx)("input",{type:"email",value:m,onChange:function(e){return g(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"contact@pizzaking.com"})]}),(0,h.jsxs)("div",{className:"mb-7",children:[(0,h.jsxs)("div",{className:"flex mb-1.5 items-center justify-between",children:[(0,h.jsx)("label",{className:"block text-sm text-gray-900 font-semibold",htmlFor:"",children:"Password"}),(0,h.jsx)("button",{onClick:e,className:"inline-block text-xs font-semibold text-orange-900 hover:text-gray-900",children:"Forget password?"})]}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("input",{id:"password",type:_?"text":"password",value:v,onChange:function(e){return w(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"Enter your password"}),(0,h.jsx)("button",{type:"button",onClick:function(){C(!_)},className:"absolute top-1/2 right-0 transform -translate-y-1/2 mr-3 focus:outline-none",children:_?(0,h.jsx)(d.wqE,{}):(0,h.jsx)(d.t2l,{})})]}),(0,h.jsx)("small",{className:"block text-center text-gray-500 text-sm mt-2",children:"We'll never share your credential details with anyone else."})]}),(0,h.jsxs)("div",{className:"flex mb-6 items-center",children:[(0,h.jsx)("input",{type:"checkbox",defaultValue:"",id:"",checked:E,onChange:function(e){N(e.target.checked)}}),(0,h.jsx)("label",{className:"ml-2 text-xs text-gray-800",htmlFor:"",children:"Agree to T&C"})]}),(0,h.jsx)("button",{className:"relative group block w-full mb-6 py-3 px-5 text-center text-sm font-semibold text-orange-50 bg-orange-900 rounded-full overflow-hidden",type:"submit",children:"Login"}),(0,h.jsxs)("span",{className:"text-xs font-semibold text-gray-900",children:[(0,h.jsx)("span",{children:"Don\u2019t have an account?"}),(0,h.jsx)(l.rU,{to:"/register",className:"ml-1 inline-block text-orange-900 hover:text-orange-700",href:"#",children:"Sign up"})]})]})]})})]})}}}]);
//# sourceMappingURL=822.434f207e.chunk.js.map