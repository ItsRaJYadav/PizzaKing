"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[714],{2714:function(e,t,r){r.r(t);var a=r(3433),n=r(9439),s=r(2791),i=r(1087),c=r(3853),l=r(6355),o=r(8617),d=r(978),u=r(8820),p=r(6856),f=r(9434),h=r(9002),x=r(4822),g=r(5181),m=r(3885),v=r(184);t.default=function(){var e=(0,s.useState)(!0),t=(0,n.Z)(e,2),r=(t[0],t[1],(0,f.I0)()),y=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(null),j=(0,s.useRef)(null),E=(0,s.useRef)(null),R=(0,s.useRef)(null),S=(0,s.useRef)(null),N=(0,f.v9)((function(e){return e.getAllPizzaReducer})).pizzas,Z=(0,f.v9)((function(e){return e.allUserOrdersReducer})).orders,_=(0,f.v9)((function(e){return e.getAllUsersReducer})).users;(0,s.useEffect)((function(){r((0,h.bS)()),r((0,x.AW)()),r((0,g.zk)())}),[r]),(0,s.useEffect)((function(){if(b.current){var e=b.current.getContext("2d"),t=_.map((function(e){return"".concat(new Date(e.createdAt).getDate()," ").concat(new Date(e.createdAt).toLocaleString("default",{month:"long"}))})),r=_.map((function(e,t){return t+1}));y.current?(y.current.data.labels=t,y.current.data.datasets[0].data=r,y.current.update()):y.current=new m.ZP(e,{type:"line",data:{labels:t,datasets:[{label:"Users",data:r,backgroundColor:"rgba(23, 162, 184, 0.5)",borderColor:"rgba(23, 162, 184, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Users"},suggestedMin:0,suggestedMax:_.length}}}})}}),[_]),(0,s.useEffect)((function(){if(w.current&&N.length){var e=w.current.getContext("2d"),t=N.map((function(e){return e.category})),r=(0,a.Z)(new Set(t)),n=r.map((function(e){return t.filter((function(t){return t===e})).length}));new m.ZP(e,{type:"bar",data:{labels:r,datasets:[{label:"Products",data:n,backgroundColor:["rgba(108, 117, 125, 1.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)"].slice(0,r.length),borderColor:"rgba(108, 117, 125, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Category"}},y:{display:!0,title:{display:!0,text:"Products"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,a.Z)(n))+1}}}})}}),[N]),(0,s.useEffect)((function(){if(j.current&&Z.length){var e=j.current.getContext("2d"),t={};Z.forEach((function(e){var r=new Date(e.createdAt).toDateString();t[r]?t[r]+=1:t[r]=1}));var r=Object.keys(t),a=Object.values(t);new m.ZP(e,{type:"line",data:{labels:r,datasets:[{label:"Orders",data:a,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Day"}},y:{display:!0,title:{display:!0,text:"Orders"},suggestedMin:0,suggestedMax:Math.max.apply(Math,a)+1}}}})}}),[Z]),(0,s.useEffect)((function(){if(E.current&&Z.length){var e=E.current.getContext("2d"),t=Z.map((function(e){return e.orderAmount}));new m.ZP(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Revenue",data:t,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Month"}},y:{display:!0,title:{display:!0,text:"Revenue"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,a.Z)(t))+1}}}})}}),[Z]),(0,s.useEffect)((function(){if(R.current&&Z.length){var e=R.current.getContext("2d"),t=Z.filter((function(e){return e.isDelivered})),r=Z.filter((function(e){return!e.isDelivered})),a={labels:["Delivered","Not Delivered"],datasets:[{data:[t.length,r.length],backgroundColor:["rgba(40, 167, 69, 0.5)","rgba(255, 99, 132, 0.5)"],borderColor:["rgba(40, 167, 69, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};new m.ZP(e,{type:"doughnut",data:a,options:{responsive:!0,maintainAspectRatio:!1}})}}),[Z]),(0,s.useEffect)((function(){var e=S.current.getContext("2d");new m.ZP(e,{type:"bar",data:{labels:["Messages","Issues Resolved","Pending"],datasets:[{label:"Number of Messages",data:[150,75,28],backgroundColor:["#36A2EB","#FFCE56","#FF3131"]}]},options:{scales:{y:{beginAtZero:!0,max:200}}}})}),[]);return(0,v.jsx)("div",{className:"flex flex-col h-screen bg-gray-100",children:(0,v.jsx)("div",{className:"flex-1 p-6",children:(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/users",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Users"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Users: ",_.length," "]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-500 text-white rounded-full",children:(0,v.jsx)(c.WY8,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:b})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/products",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Products"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Products: ",N.length]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-500 text-white rounded-full",children:(0,v.jsx)(d.Lzd,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:w})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Orders"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Orders:",Z.length," "]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-green-500 text-white rounded-full",children:(0,v.jsx)(l.FeP,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:j})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Revenue"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Payment: Rs ",function(){var e=0;return Z.forEach((function(t){e+=Number(t.orderAmount)})),e.toFixed(2)}(),"/-"]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-green-500 text-white rounded-full",children:(0,v.jsx)(o.IgD,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:E})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Order Status"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Order Status "})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,v.jsx)(p.ZjZ,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:R,width:"200",height:"200"})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Contact data"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Contact Data Status"})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,v.jsx)(u.Zs0,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:S})})]})]})})})}},5181:function(e,t,r){r.d(t,{rC:function(){return l},sl:function(){return o},uI:function(){return i},zk:function(){return c}});var a=r(4165),n=r(5861),s=r(1243),i=function(){return function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t,r){var n,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().loginUserReducer.currentUser,t({type:"USER_ORDER_REQUEST"}),e.prev=2,e.next=5,s.Z.post("/api/orders/getuserorder",{email:n.email});case 5:i=e.sent,t({type:"USER_ORDER_SUCCESS",payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"USER_ORDER_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()},c=function(){return function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t,r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/orders/alluserorder");case 4:n=e.sent,t({type:"ALL_ORDER_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,n.Z)((0,a.Z)().mark((function t(r,n){var i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/orders/deliverorder",{orderid:e});case 4:return t.next=6,s.Z.get("/api/orders/alluserorder");case 6:i=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:i.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},o=function(e){return function(){var t=(0,n.Z)((0,a.Z)().mark((function t(r,n){var i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/orders/canceOrder",{orderid:e});case 4:return t.next=6,s.Z.get("/api/orders/alluserorder");case 6:i=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:i.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}},4822:function(e,t,r){r.d(t,{AW:function(){return d},TX:function(){return o},a$:function(){return l},h8:function(){return u}});var a=r(4165),n=r(5861),s=r(1243),i=r(2062),c=r.n(i),l=function(e){return function(){var t=(0,n.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/users/register",e);case 4:r({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?r({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):r({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},o=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},d=function(){return function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/users/getallusers");case 4:r=e.sent,t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,n.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/api/users/deleteuser",{userid:e});case 3:c()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=714.cc587e2f.chunk.js.map