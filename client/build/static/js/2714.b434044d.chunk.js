"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[2714],{2714:function(e,t,r){r.r(t);var a=r(3433),s=r(9439),n=r(2791),l=r(1087),i=r(3853),c=r(6355),d=r(8617),o=r(978),u=r(8820),x=r(6856),h=r(9434),p=r(9002),f=r(4822),m=r(5181),g=r(3885),b=r(184);t.default=function(){var e=(0,h.I0)(),t=(0,n.useRef)(null),r=(0,n.useRef)(null),y=(0,n.useRef)(null),v=(0,n.useRef)(null),j=(0,n.useRef)(null),w=(0,n.useRef)(null),N=(0,n.useRef)(null),E=(0,h.v9)((function(e){return e.getAllPizzaReducer})).pizzas,R=(0,h.v9)((function(e){return e.allUserOrdersReducer})).orders,S=(0,h.v9)((function(e){return e.getAllUsersReducer})).users,_=(0,n.useState)([]),Z=(0,s.Z)(_,2),U=Z[0],A=Z[1],C=(0,n.useState)([]),L=(0,s.Z)(C,2),D=L[0],k=L[1];(0,n.useEffect)((function(){e((0,p.bS)()),e((0,f.AW)()),e((0,m.zk)())}),[e]),(0,n.useEffect)((function(){if(R&&R.length>0){var e=R.slice(-7);A(e)}}),[R]),(0,n.useEffect)((function(){if(S&&S.length>0){var e=S.slice(-5);k(e)}}),[R]),(0,n.useEffect)((function(){if(r.current){var e=r.current.getContext("2d"),a=S.map((function(e){return"".concat(new Date(e.createdAt).getDate()," ").concat(new Date(e.createdAt).toLocaleString("default",{month:"long"}))})),s=S.map((function(e,t){return t+1}));t.current?(t.current.data.labels=a,t.current.data.datasets[0].data=s,t.current.update()):t.current=new g.ZP(e,{type:"line",data:{labels:a,datasets:[{label:"Users",data:s,backgroundColor:"rgba(23, 162, 184, 0.5)",borderColor:"rgba(23, 162, 184, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Users"},suggestedMin:0,suggestedMax:S.length}}}})}}),[S]),(0,n.useEffect)((function(){if(y.current&&E.length){var e=y.current.getContext("2d"),t=E.map((function(e){return e.category})),r=(0,a.Z)(new Set(t)),s=r.map((function(e){return t.filter((function(t){return t===e})).length}));new g.ZP(e,{type:"bar",data:{labels:r,datasets:[{label:"Products",data:s,backgroundColor:["rgba(108, 117, 125, 1.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)"].slice(0,r.length),borderColor:"rgba(108, 117, 125, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Category"}},y:{display:!0,title:{display:!0,text:"Products"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,a.Z)(s))+1}}}})}}),[E]),(0,n.useEffect)((function(){if(v.current&&R.length){var e=v.current.getContext("2d"),t={};R.forEach((function(e){var r=new Date(e.createdAt).toLocaleDateString();t[r]?t[r]+=1:t[r]=1}));var r=Object.keys(t),a=Object.values(t);new g.ZP(e,{type:"line",data:{labels:r,datasets:[{label:"Orders",data:a,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Day"}},y:{display:!0,title:{display:!0,text:"Orders"},suggestedMin:0,suggestedMax:Math.max.apply(Math,a)+1}}}})}}),[R]),(0,n.useEffect)((function(){if(j.current&&R.length){var e=j.current.getContext("2d"),t=R.map((function(e){return e.orderAmount})),r=R.map((function(e){return new Date(e.createdAt).toLocaleString("default",{month:"short"})}));new g.ZP(e,{type:"line",data:{labels:r,datasets:[{label:"Revenue",data:t,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Month"}},y:{display:!0,title:{display:!0,text:"Revenue"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,a.Z)(t))+1}}}})}}),[R]),(0,n.useEffect)((function(){if(w.current&&R.length){var e=w.current.getContext("2d"),t=R.filter((function(e){return e.isDelivered})),r=R.filter((function(e){return!e.isDelivered})),a={labels:["Delivered","Not Delivered"],datasets:[{data:[t.length,r.length],backgroundColor:["rgba(40, 167, 69, 0.5)","rgba(255, 99, 132, 0.5)"],borderColor:["rgba(40, 167, 69, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};new g.ZP(e,{type:"doughnut",data:a,options:{responsive:!0,maintainAspectRatio:!1}})}}),[R]),(0,n.useEffect)((function(){var e=N.current.getContext("2d");new g.ZP(e,{type:"bar",data:{labels:["Messages","Issues Resolved","Pending"],datasets:[{label:"Number of Messages",data:[150,75,28],backgroundColor:["#36A2EB","#FFCE56","#FF3131"]}]},options:{scales:{y:{beginAtZero:!0,max:200}}}})}),[]);return(0,b.jsx)("div",{className:"flex flex-col h-auto bg-gray-100",children:(0,b.jsx)("div",{className:"flex-1 p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/users",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Users"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Total Users: ",S.length," "]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-500 text-white rounded-full",children:(0,b.jsx)(i.WY8,{className:"text-2xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:r})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/products",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Products"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Total Products: ",E.length]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-500 text-white rounded-full",children:(0,b.jsx)(o.Lzd,{className:"text-2xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:y})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Orders"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Total Orders:",R.length," "]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-green-500 text-white rounded-full",children:(0,b.jsx)(c.FeP,{className:"text-2xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:v})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Revenue"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Total Payment: Rs ",function(){var e=0;return R.forEach((function(t){e+=Number(t.orderAmount)})),e.toFixed(2)}(),"/-"]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-green-500 text-white rounded-full",children:(0,b.jsx)(d.IgD,{className:"text-xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:j})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Order Status"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Order Status "})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,b.jsx)(x.ZjZ,{className:"text-xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:w,width:"200",height:"200"})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/allcontact",className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Contact data"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Contact Data Status"})]}),(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,b.jsx)(u.Zs0,{className:"text-xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("canvas",{ref:N})})]}),(0,b.jsxs)("div",{className:"p-4 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/alltransactions",className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800 flex center",children:"Latest Transactions"})}),(0,b.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-cyan-500 text-white rounded-full",children:(0,b.jsx)(c.Yan,{className:"text-xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full bg-white shadow-md rounded",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-200 text-gray-700 uppercase text-sm leading-normal",children:[(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Customer"}),(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Amount"}),(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Date"})]})}),(0,b.jsx)("tbody",{children:U.map((function(e,t){return(0,b.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-".concat(t%2===0?"gray-100":"white"),children:[(0,b.jsx)("td",{className:"py-3 px-2",children:e.name}),(0,b.jsxs)("td",{className:"py-3 px-2 font-bold text-green-500",children:["Rs ",e.orderAmount,"/-"]}),(0,b.jsx)("td",{className:"py-3 px-2",children:e.createdAt.substring(0,10)})]},e._id)}))})]})})})})]}),(0,b.jsxs)("div",{className:"p-4 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,b.jsxs)(l.rU,{to:"/admin/alltransactions",className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800 flex center",children:"Latest Transactions"})}),(0,b.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-cyan-500 text-white rounded-full",children:(0,b.jsx)(c.Yan,{className:"text-xl"})})]}),(0,b.jsx)("div",{className:"chart-container",children:(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full bg-white shadow-md rounded",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-200 text-gray-700 uppercase text-sm leading-normal",children:[(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Customer"}),(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Email"}),(0,b.jsx)("th",{className:"py-3 px-2 text-left",children:"Date"})]})}),(0,b.jsx)("tbody",{children:D.map((function(e,t){return(0,b.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-".concat(t%2===0?"gray-100":"white"),children:[(0,b.jsx)("td",{className:"py-3 px-2",children:e.name}),(0,b.jsx)("td",{className:"py-3 px-2 font-bold text-blue-400",children:e.email}),(0,b.jsx)("td",{className:"py-3 px-2",children:e.createdAt.substring(0,10)})]},e._id)}))})]})})})})]})]})})})}},5181:function(e,t,r){r.d(t,{rC:function(){return c},sl:function(){return d},uI:function(){return l},zk:function(){return i}});var a=r(4165),s=r(5861),n=r(1243),l=function(){return function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,r){var s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r().loginUserReducer.currentUser,t({type:"USER_ORDER_REQUEST"}),e.prev=2,e.next=5,n.Z.post("/api/orders/getuserorder",{email:s.email});case 5:l=e.sent,t({type:"USER_ORDER_SUCCESS",payload:l.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"USER_ORDER_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()},i=function(){return function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,r){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,n.Z.get("/api/orders/alluserorder");case 4:s=e.sent,t({type:"ALL_ORDER_SUCCESS",payload:s.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},c=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r,s){var l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,n.Z.post("/api/orders/deliverorder",{orderid:e});case 4:return t.next=6,n.Z.get("/api/orders/alluserorder");case 6:l=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:l.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r,s){var l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,n.Z.post("/api/orders/canceOrder",{orderid:e});case 4:return t.next=6,n.Z.get("/api/orders/alluserorder");case 6:l=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:l.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}},4822:function(e,t,r){r.d(t,{AW:function(){return o},TX:function(){return d},a$:function(){return c},h8:function(){return u}});var a=r(4165),s=r(5861),n=r(1243),l=r(2062),i=r.n(l),c=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,n.Z.post("/api/users/register",e);case 4:r({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?r({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):r({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},o=function(){return function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,n.Z.get("/api/users/getallusers");case 4:r=e.sent,t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,s.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Z.post("/api/users/deleteuser",{userid:e});case 3:i()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=2714.b434044d.chunk.js.map