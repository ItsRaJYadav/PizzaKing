{"version":3,"file":"static/js/5822.fb1bd22a.chunk.js","mappings":"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","sources":["screen/Login/Login.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport './Login.css'\r\nimport { Helmet } from \"react-helmet\";\r\nimport { MdVisibility, MdVisibilityOff } from 'react-icons/md';\r\nimport { SiAuth0 } from 'react-icons/si';\r\nimport { FiLoader } from 'react-icons/fi';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Login = () => {\r\n  const { loginWithRedirect } = useAuth0();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const handleCheckboxChange = (event) => {\r\n    setIsChecked(event.target.checked);\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"currentUser\")) {\r\n      window.location.href = \"/\";\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  const loginHandler = async (event) => {\r\n    event.preventDefault(); // Prevent form submission\r\n    setLoading(true);\r\n    const user = { email, password };\r\n    const apiUrl = process.env.NODE_ENV === 'production' ? 'https://pizzaking.onrender.com/api/users/login' : 'http://localhost:8080/api/users/login';\r\n    try {\r\n      const response = await axios.post(\r\n        apiUrl,\r\n        user\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        setLoading(false);\r\n        localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n        window.location.href = \"/\";\r\n        toast.success(\"Login successful!\");\r\n        // Proceed with any necessary actions after successful login\r\n      } else {\r\n        toast.error(\"Login not successful!\");\r\n      }\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setLoading(false);\r\n        if (error.response.status === 400) {\r\n          toast.error(error.response.data.message);\r\n        } else {\r\n          toast.error(\"An error occurred during login\");\r\n        }\r\n      } else {\r\n        toast.error(\"Network Error\");\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  // Show hide password dialog\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const toggleShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Login</title>\r\n      </Helmet>\r\n      <div className=\"flex justify-center items-centerw-full lg:w-1/2 xl:w-2/5 px-4 mb-16 lg:mb-0 mx-auto  items-center\">\r\n        <div className=\" lg:py-20 mx-auto lg:mr-0\">\r\n          <h3 className=\"font-heading text-4xl text-gray-900 font-semibold mb-4\">\r\n            Sign in to your account\r\n          </h3>\r\n          <p className=\"text-lg text-gray-500 mb-10\">\r\n            Greetings on your return! We kindly request you to enter your details.\r\n          </p>\r\n          <div className=\"w-full md:w-1/2 px-2 mb-3 md:mb-0 flex items-center justify-end ml-24\">\r\n            <button\r\n              onClick={() => loginWithRedirect()}\r\n              className=\"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-full shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto\"\r\n            >\r\n              <SiAuth0 className=\"mr-2\" />\r\n              <span className=\"text-sm font-semibold text-gray-100\">Login with Auth</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex mb-6 items-center\">\r\n            <div className=\"w-full h-px bg-gray-300\" />\r\n            <span className=\"mx-4 text-sm font-semibold text-gray-500\">\r\n              Or\r\n            </span>\r\n            <div className=\"w-full h-px bg-gray-300\" />\r\n          </div>\r\n          <form onSubmit={loginHandler}>\r\n            <div className=\"mb-6\">\r\n              <label\r\n                className=\"block mb-1.5 text-sm text-gray-900 font-semibold\"\r\n                htmlFor=\"\"\r\n              >\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                className=\"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg\"\r\n                placeholder=\"contact@pizzaking.com\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-7\">\r\n              <div className=\"flex mb-1.5 items-center justify-between\">\r\n                <label\r\n                  className=\"block text-sm text-gray-900 font-semibold\"\r\n                  htmlFor=\"\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <Link\r\n                  to=\"/forgot_password\"\r\n                  className=\"inline-block text-xs font-semibold text-orange-900 hover:text-gray-900\"\r\n                >\r\n                  Forget password?\r\n                </Link>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <input\r\n                  id=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg\"\r\n                  placeholder=\"Enter your password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={toggleShowPassword}\r\n                  className=\"absolute top-1/2 right-0 transform -translate-y-1/2 mr-3 focus:outline-none\"\r\n                >\r\n                  {showPassword ? <MdVisibilityOff /> : <MdVisibility />}\r\n                </button>\r\n              </div>\r\n              <small className=\"block text-center text-gray-500 text-sm mt-2\">\r\n                We'll never share your credential details with anyone else.\r\n              </small>\r\n            </div>\r\n            <div className=\"flex mb-6 items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                defaultValue=\"\"\r\n                id=\"\"\r\n                checked={isChecked}\r\n                onChange={handleCheckboxChange}\r\n              />\r\n              <label className=\"ml-2 text-xs text-gray-800\" htmlFor=\"\">\r\n                Agree to T&C\r\n              </label>\r\n            </div>\r\n            {isLoading ? (\r\n              <div className=\"flex items-center justify-center mb-6\">\r\n                <FiLoader className=\"animate-spin text-2xl mr-2\" />\r\n                Sending Req...\r\n              </div>\r\n\r\n            ) : (\r\n              <button\r\n              className=\"relative group block w-full mb-6 py-3 px-5 text-center text-sm font-semibold text-orange-50 bg-orange-900 rounded-full overflow-hidden\"\r\n              type=\"submit\"\r\n            >\r\n              Login\r\n            </button>\r\n            )}\r\n            <span className=\"text-xs font-semibold text-gray-900\">\r\n              <span>Donâ€™t have an account?</span>\r\n              <Link\r\n                to=\"/register\"\r\n                className=\"ml-1 inline-block text-orange-900 hover:text-orange-700\"\r\n              >\r\n                Sign up\r\n              </Link>\r\n            </span>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["loginWithRedirect","useAuth0","useState","email","setEmail","password","setPassword","isChecked","setIsChecked","isLoading","setLoading","useEffect","localStorage","getItem","window","location","href","loginHandler","event","preventDefault","user","axios","response","status","setItem","JSON","stringify","data","toast","message","showPassword","setShowPassword","Helmet","className","onClick","onSubmit","htmlFor","type","value","onChange","e","target","placeholder","to","id","defaultValue","checked"],"sourceRoot":""}