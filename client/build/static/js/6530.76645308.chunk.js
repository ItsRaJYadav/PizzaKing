"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[6530,1596],{1596:function(e,t,r){r.r(t);var s=r(1413),n=r(9439),a=r(2791),o=r(7689),l=r(1243),i=r(9434),c=r(3853),d=r(7948),u=r.n(d),m=r(9806),x=r(1632),b=r(1830),p=r.n(b),h=r(5985),f=(r(5462),r(184));t.default=function(){var e=(0,i.v9)((function(e){return e.loginUserReducer})).currentUser,t=(0,a.useState)([]),r=(0,n.Z)(t,2),d=r[0],b=r[1],g=(0,a.useState)(!1),y=(0,n.Z)(g,2),j=y[0],N=y[1],v=(0,a.useState)(null),C=(0,n.Z)(v,2),Z=C[0],w=C[1];(0,o.s0)(),(0,a.useEffect)((function(){var t=e._id;l.Z.get("/api/users/addresses/".concat(t)).then((function(e){b(e.data)})).catch((function(e){console.error("Error fetching addresses:",e)}))}),[]);var k=function(){N(!1),w(null)};return(0,f.jsxs)("div",{className:"container mx-auto mt-8 max-w-md",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Shipping Addresses"}),0===d.length?(0,f.jsx)("p",{children:"No addresses found."}):(0,f.jsx)("ul",{children:d.map((function(e){return(0,f.jsxs)("li",{className:"mb-4 p-4 border rounded-md",children:[(0,f.jsxs)("p",{className:"text-base",children:[(0,f.jsx)("span",{className:"font-bold",children:"Street:"})," ",e.street]}),(0,f.jsxs)("p",{className:"text-base",children:[(0,f.jsx)("span",{className:"font-bold",children:"City:"})," ",e.city]}),(0,f.jsxs)("p",{className:"text-base",children:[(0,f.jsx)("span",{className:"font-bold",children:"State:"})," ",e.state]}),(0,f.jsxs)("p",{className:"text-base",children:[(0,f.jsx)("span",{className:"font-bold",children:"ZIP Code:"})," ",e.zipCode]}),(0,f.jsxs)("p",{className:"text-base",children:[(0,f.jsx)("span",{className:"font-bold",children:"Phone Number:"})," ",e.phoneNumber]}),(0,f.jsxs)("div",{className:"flex justify-end mt-2",children:[(0,f.jsxs)("button",{className:"flex items-center px-2 py-1 mr-2 text-gray-500 hover:text-gray-700",onClick:function(){return function(e){var t=d.find((function(t){return t._id===e}));w(t),N(!0)}(e._id)},children:[(0,f.jsx)(c.vPQ,{className:"mr-1"}),"Update"]}),(0,f.jsxs)("button",{className:"flex items-center px-2 py-1 text-red-500 hover:text-red-700",onClick:function(){return t=e._id,void p().fire({title:"Delete Address",text:"Are you sure you want to delete this address?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(e){e.isConfirmed&&l.Z.delete("/api/users/addresses/".concat(t)).then((function(e){b((function(e){return e.filter((function(e){return e._id!==t}))})),p().fire("Deleted!","The address has been deleted.","success")})).catch((function(e){console.error("Error deleting address:",e),p().fire("Error","An error occurred while deleting the address.","error")}))}));var t},children:[(0,f.jsx)(c.Ybf,{className:"mr-1"}),"Delete"]})]})]},e._id)}))}),(0,f.jsx)(u(),{isOpen:j,onRequestClose:k,contentLabel:"Update Address",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.1)",padding:"12px",maxWidth:"600px"},overlay:{backgroundColor:"rgba(0, 0, 0,0.4)",backdropFilter:"blur(8px)",zIndex:"9999"}},children:Z&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex justify-center items-center",children:[(0,f.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:"Update Address"}),(0,f.jsx)("button",{onClick:k,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center ml-9 mb-3",children:(0,f.jsx)(m.G,{icon:x.NBC,className:"mr-2"})})]}),(0,f.jsx)("div",{className:"px-6 py-6 lg:px-8",children:(0,f.jsxs)("form",{className:"space-y-6",action:"#",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"Street",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Street"}),(0,f.jsx)("input",{type:"text",value:Z.street,onChange:function(e){return w((function(t){return(0,s.Z)((0,s.Z)({},t),{},{street:e.target.value})}))},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",placeholder:"name@company.com",required:""})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your city"}),(0,f.jsx)("input",{type:"text",value:Z.city,onChange:function(e){return w((function(t){return(0,s.Z)((0,s.Z)({},t),{},{city:e.target.value})}))},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 "})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your State"}),(0,f.jsx)("input",{type:"text",value:Z.state,onChange:function(e){return w((function(t){return(0,s.Z)((0,s.Z)({},t),{},{state:e.target.value})}))},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 "})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your ZipCode"}),(0,f.jsx)("input",{type:"text",value:Z.zipCode,onChange:function(e){return w((function(t){return(0,s.Z)((0,s.Z)({},t),{},{zipCode:e.target.value})}))},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 "})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your phoneNumber"}),(0,f.jsx)("input",{type:"text",value:Z.phoneNumber,onChange:function(e){return w((function(t){return(0,s.Z)((0,s.Z)({},t),{},{phoneNumber:e.target.value})}))},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 "})]}),(0,f.jsx)("button",{onClick:function(){var e={street:Z.street,city:Z.city,state:Z.state,zipCode:Z.zipCode,phoneNumber:Z.phoneNumber};l.Z.put("/api/users/addresses/".concat(Z._id),e).then((function(e){b((function(t){return t.map((function(t){return t._id===e.data._id?e.data:t}))})),N(!1),200===e.status&&h.Am.success("Address Updated successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})).catch((function(e){console.error("Error updating address:",e)}))},className:"w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"update address"})]})})]})}),(0,f.jsx)(h.Ix,{})]})}},6530:function(e,t,r){r.r(t);var s=r(4942),n=r(1413),a=r(9439),o=r(2791),l=r(1243),i=(r(1596),r(9434)),c=r(184);t.default=function(){var e=(0,i.v9)((function(e){return e.loginUserReducer})).currentUser,t=(0,o.useState)({street:"",city:"",state:"",zipCode:"",phoneNumber:""}),r=(0,a.Z)(t,2),d=r[0],u=r[1],m=e._id,x=function(e){var t=e.target,r=t.name,a=t.value;u((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,s.Z)({},r,a))}))};return(0,c.jsxs)("div",{className:"container mx-auto mt-8 max-w-md",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"New Shipping Address"}),(0,c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),l.Z.post("https://pizzaking.onrender.com/api/users/address",(0,n.Z)((0,n.Z)({},d),{},{user:m})).then((function(){console.log("Shipping address saved successfully"),u({street:"",city:"",state:"",zipCode:"",phoneNumber:"",user:e})})).catch((function(e){console.error("Error saving shipping address:",e)}))},children:[(0,c.jsx)("label",{htmlFor:"street",children:"Street:"}),(0,c.jsx)("input",{type:"text",id:"street",name:"street",className:"w-full border-gray-300 border p-2 mb-4",value:d.street,onChange:x}),(0,c.jsx)("label",{htmlFor:"city",children:"City:"}),(0,c.jsx)("input",{type:"text",id:"city",name:"city",className:"w-full border-gray-300 border p-2 mb-4",value:d.city,onChange:x}),(0,c.jsx)("label",{htmlFor:"state",children:"State:"}),(0,c.jsx)("input",{type:"text",id:"state",name:"state",className:"w-full border-gray-300 border p-2 mb-4",value:d.state,onChange:x}),(0,c.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code:"}),(0,c.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",className:"w-full border-gray-300 border p-2 mb-4",value:d.zipCode,onChange:x}),(0,c.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),(0,c.jsx)("input",{type:"text",id:"phoneNumber",name:"phoneNumber",className:"w-full border-gray-300 border p-2 mb-4",value:d.phoneNumber,onChange:x}),(0,c.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded",children:"Save"})]})]})}}}]);
//# sourceMappingURL=6530.76645308.chunk.js.map