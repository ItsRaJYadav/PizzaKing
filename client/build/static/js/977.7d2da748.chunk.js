"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[977],{7977:function(e,t,r){r.r(t);var n=r(9439),a=r(2791),i=r(3855),c=r(9743),s=r(2677),u=r(3360),o=r(9434),l=r(9002),p=r(2617),d=r(6279),Z=r(184);t.default=function(e){var t=e.match,r=(0,a.useState)(""),f=(0,n.Z)(r,2),h=f[0],m=f[1],x=(0,a.useState)(),z=(0,n.Z)(x,2),v=z[0],y=z[1],I=(0,a.useState)(),S=(0,n.Z)(I,2),g=S[0],E=S[1],j=(0,a.useState)(),P=(0,n.Z)(j,2),C=P[0],_=P[1],A=(0,a.useState)(""),b=(0,n.Z)(A,2),G=b[0],w=b[1],D=(0,a.useState)(""),T=(0,n.Z)(D,2),k=T[0],L=T[1],U=(0,a.useState)(""),N=(0,n.Z)(U,2),B=N[0],F=N[1],R=(0,o.I0)(),Y=(0,o.v9)((function(e){return e.getPizzaByIdReducer})),Q=Y.error,V=Y.pizza,W=(0,o.v9)((function(e){return e.updatePizzaByIdReducer})).updateloading;(0,a.useEffect)((function(){V&&V._id===t.params.pizzaId?(m(V.name),L(V.description),F(V.category),w(V.image),y(V.prices[0].small),_(V.prices[0].medium),E(V.prices[0].large)):R((0,l.Ve)(t.params.pizzaId))}),[V,R,t.params.pizzaId]);return(0,Z.jsxs)("div",{children:[W&&(0,Z.jsx)(p.Z,{}),Q&&(0,Z.jsx)(d.Z,{error:"add new pizza error"}),(0,Z.jsxs)(i.Z,{onSubmit:function(e){e.preventDefault();var r={_id:t.params.pizzaId,name:h,image:G,description:k,category:B,prices:{small:v,medium:C,larg:g}};R((0,l.Fn)(r))},className:"bg-light p-4",children:[(0,Z.jsxs)(c.Z,{className:"mb-3",children:[(0,Z.jsxs)(i.Z.Group,{as:s.Z,controlId:"formGridEmail",children:[(0,Z.jsx)(i.Z.Label,{children:"Name"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:h,onChange:function(e){return m(e.target.value)},placeholder:"Enter email"})]}),(0,Z.jsxs)(c.Z,{className:"mb-3 mt-3",children:[(0,Z.jsxs)(i.Z.Group,{as:s.Z,controlId:"formGridCity",children:[(0,Z.jsx)(i.Z.Label,{children:"Small Price"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:v,onChange:function(e){return y(e.target.value)},placeholder:"Enter Small Price"})]}),(0,Z.jsxs)(i.Z.Group,{as:s.Z,controlId:"formGridState",children:[(0,Z.jsx)(i.Z.Label,{children:"Medium Price"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:C,onChange:function(e){return _(e.target.value)},placeholder:"Enter medium price"})]}),(0,Z.jsxs)(i.Z.Group,{as:s.Z,controlId:"formGridZip",children:[(0,Z.jsx)(i.Z.Label,{children:"Larg Price"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:g,onChange:function(e){return E(e.target.value)},placeholder:"Enter larg price"})]})]}),(0,Z.jsxs)(i.Z.Group,{as:s.Z,controlId:"formGridPassword",children:[(0,Z.jsx)(i.Z.Label,{children:"Image"}),(0,Z.jsx)(i.Z.Control,{ttype:"text",value:G,onChange:function(e){return w(e.target.value)},placeholder:"Add Image URL"})]})]}),(0,Z.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formGridAddress1",children:[(0,Z.jsx)(i.Z.Label,{children:"Description"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:k,onChange:function(e){return L(e.target.value)},placeholder:"Enter Description"})]}),(0,Z.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formGridAddress2",children:[(0,Z.jsx)(i.Z.Label,{children:"Category"}),(0,Z.jsx)(i.Z.Control,{type:"text",value:B,onChange:function(e){return F(e.target.value)},placeholder:"Enter Category"})]}),(0,Z.jsx)(u.Z,{variant:"primary",type:"submit",children:"Update Pizza"})]})]})}},2617:function(e,t,r){r(2791);var n=r(6355),a=r(184);t.Z=function(){return(0,a.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"absolute top-1/2 left-30 transform -translate-y-1/2",children:(0,a.jsx)(n.fCD,{className:"animate-spin text-6xl text-gray-600"})})})}},6279:function(e,t,r){r(2791);var n=r(4034),a=r(184);t.Z=function(e){var t=e.error;return(0,a.jsx)(n.Z,{variant:"danger",children:t})}},9002:function(e,t,r){r.d(t,{DP:function(){return Z},Fn:function(){return p},GF:function(){return d},PW:function(){return o},Ve:function(){return l},bS:function(){return u}});var n=r(4165),a=r(5861),i=r(1243),c=r(2062),s=r.n(c),u=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PIZZAS_REQUEST"}),e.prev=1,e.next=4,i.Z.get("/api/pizzas/getAllPizzas");case 4:r=e.sent,t({type:"GET_PIZZAS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_PIZZAS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},o=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_PIZZAS_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/addpizza",{pizza:e});case 4:r({type:"ADD_PIZZAS_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r({type:"ADD_PIZZAS_FAIL",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/getpizzabyid",{pizzaId:e});case 4:a=t.sent,r({type:"GET_PIZZABYID_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"GET_PIZZABYID_FAIL",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPDATE_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/updatepizza",{updatedPizza:e});case 4:a=t.sent,r({type:"UPDATE_PIZZABYID_SUCCESS",payload:a.data}),window.location.href="/admin/pizzalist",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"UPDATE_PIZZABYID_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.post("/api/pizzas/deletepizza",{pizzaId:e});case 3:s()("Pizza Deleted Succss!","success"),window.location.href="/admin/pizzalist",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s()("Errro While Deleteing Pizza");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e,t){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var c,s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"GET_PIZZAS_REQUEST"}),r.prev=1,r.next=4,i.Z.get("/api/pizzas/getAllPizzas");case 4:s=r.sent,c=s.data.filter((function(t){return t.name.toLowerCase().includes(e)})),"all"!==t&&(c=s.data.filter((function(e){return e.category.toLowerCase()===t}))),a({type:"GET_PIZZAS_SUCCESS",payload:c}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),a({type:"GET_PIZZAS_FAIL",payload:r.t0});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=977.7d2da748.chunk.js.map