"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[3216],{6279:function(e,r,n){n(2791);var t=n(184);r.Z=function(e){var r=e.error;return(0,t.jsx)("div",{className:"bg-red-100 border border-red-500 text-red-700 px-4 py-3 rounded relative",children:(0,t.jsx)("span",{className:"block sm:inline",children:r})})}},2375:function(e,r,n){n(2791);var t=n(184);r.Z=function(){return(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"border-t-4 border-b-4 border-blue-500 rounded-full w-12 h-12 animate-spin"})})}},5181:function(e,r,n){n.d(r,{rC:function(){return d},sl:function(){return o},uI:function(){return c},zk:function(){return i}});var t=n(4165),a=n(5861),s=n(1243),c=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().loginUserReducer.currentUser,r({type:"USER_ORDER_REQUEST"}),e.prev=2,e.next=5,s.Z.post("/api/orders/getuserorder",{email:a.email});case 5:c=e.sent,r({type:"USER_ORDER_SUCCESS",payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r({type:"USER_ORDER_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(r,n){return e.apply(this,arguments)}}()},i=function(){return function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/orders/alluserorder");case 4:a=e.sent,r({type:"ALL_ORDER_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,n){return e.apply(this,arguments)}}()},d=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n,a){var c;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"GET_ALL_ORDER_REQUEST"}),r.prev=1,r.next=4,s.Z.post("/api/orders/deliverorder",{orderid:e});case 4:return r.next=6,s.Z.get("/api/orders/alluserorder");case 6:c=r.sent,n({type:"GET_ALL_ORDER_SUCCESS",payload:c.data}),window.location.href="/admin/orderlist",r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n({type:"GET_ALL_ORDER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e,n){return r.apply(this,arguments)}}()},o=function(e){return function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n,a){var c;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"GET_ALL_ORDER_REQUEST"}),r.prev=1,r.next=4,s.Z.post("/api/orders/canceOrder",{orderid:e});case 4:return r.next=6,s.Z.get("/api/orders/alluserorder");case 6:c=r.sent,n({type:"GET_ALL_ORDER_SUCCESS",payload:c.data}),window.location.href="/admin/orderlist",r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n({type:"GET_ALL_ORDER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e,n){return r.apply(this,arguments)}}()}},3216:function(e,r,n){n.r(r);var t=n(2791),a=n(5181),s=n(9434),c=n(2375),i=n(6279),d=n(184);r.default=function(){var e=(0,s.v9)((function(e){return e.getUserOrdersReducer})),r=e.loading,n=e.error,o=e.orders,l=(0,s.I0)();(0,t.useEffect)((function(){l((0,a.uI)())}),[l]);var u=function(e,r){return r?"bg-red-500 text-white font-bold":e?"bg-green-500 text-white font-bold":""},p=function(e){var r=new Date(e);return"".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear())};return(0,d.jsxs)("div",{className:"bg-gray-100 min-h-screen",children:[(0,d.jsx)("h1",{className:"text-center text-3xl font-bold mb-8",children:"Your Orders"}),r&&(0,d.jsx)(c.Z,{}),n&&(0,d.jsx)(i.Z,{error:"Something went wrong."}),o&&o.map((function(e){return(0,d.jsx)("div",{className:"container border p-4 bg-white shadow mb-8",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold",children:"Items:"}),e.orderItems.map((function(e){return(0,d.jsxs)("p",{className:"mb-2",children:[e.name," [",e.variant,"] * ",e.quantity," = ",e.price]},e.name)}))]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold",children:"Address:"}),(0,d.jsxs)("p",{className:"mb-2",children:["City: ",e.shippingAddress.city]}),(0,d.jsxs)("p",{className:"mb-2",children:["PinCode: ",e.shippingAddress.pinCode]}),(0,d.jsxs)("p",{children:["Country: ",e.shippingAddress.country]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold",children:"Order Info:"}),(0,d.jsxs)("p",{className:"mb-2",children:["Order Amount: ",e.orderAmount]}),(0,d.jsxs)("p",{className:"mb-2 text-gray-500",children:["Order Date: ",p(e.createdAt)]}),(0,d.jsxs)("p",{className:"mb-2",children:["Transaction ID: ",e.transactionId]}),(0,d.jsxs)("p",{children:["Order ID: ",e._id]}),e.isCanceled&&(0,d.jsx)("p",{className:"py-2 rounded ".concat(u(!1,e.isCanceled)),children:"Order Status: Cancelled"}),!e.isCanceled&&(0,d.jsxs)("p",{className:"py-2 rounded ".concat(u(e.isDelivered,!1)),children:["Order Status: ",e.isDelivered?"Delivered":"Not Delivered"]})]})]})},e._id)}))]})}}}]);
//# sourceMappingURL=3216.fa51e96e.chunk.js.map