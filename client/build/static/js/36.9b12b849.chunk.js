"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[36],{5243:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(9439),s=n(2791),a=n(9434),c=n(4270),i=n(7689),l=n(1087),o=n(3853),u=n(6355),d=n(9126),p=n.p+"static/media/profile.c6d4ca60768c9a0f202e.jpg",f=n(4822),x=n(184),g=function(){var e=(0,a.I0)(),t=(0,i.s0)(),n=(0,s.useState)("users"),g=(0,r.Z)(n,2),y=g[0],h=g[1],m=function(e){h(e)},j=(0,a.v9)((function(e){return e.loginUserReducer})).currentUser;return(0,s.useEffect)((function(){null!==localStorage.getItem("currentUser")&&j.isAdmin||t("/")}),[j,t]),j&&j.isAdmin?(0,x.jsxs)("div",{className:"flex h-screen ",children:[(0,x.jsx)(c.q,{children:(0,x.jsx)("title",{children:"Admin Pannel"})}),(0,x.jsx)("div",{className:"bg-gray-200 w-64 px-4 py-8",children:(0,x.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[(0,x.jsx)("a",{href:"/admin",className:"flex items-center justify-center mb-8",children:(0,x.jsx)("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full w-full",children:(0,x.jsx)("span",{className:"text-lg font-bold text-gray-100",children:"Admin Dashboard "})})}),(0,x.jsx)("img",{src:p,alt:"Logo",className:""}),(0,x.jsx)("hr",{}),(0,x.jsx)("nav",{children:(0,x.jsxs)("ul",{className:"space-y-2",children:[(0,x.jsx)("li",{children:(0,x.jsxs)(l.rU,{to:"/admin/users",onClick:function(){return m("users")},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("users"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(o.WY8,{className:"mr-2"}),(0,x.jsx)("span",{children:"Users"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(l.rU,{to:"/admin/pizzalist",onClick:function(){return m("pizzas")},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("pizzas"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(u.Egf,{className:"mr-2"}),(0,x.jsx)("span",{children:"All Menu"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(l.rU,{to:"/admin/addnewpizza",onClick:function(){return m("addnewpizza")},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("addnewpizza"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(d.xB6,{className:"mr-2"}),(0,x.jsx)("span",{children:"Add Menu"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(l.rU,{to:"/admin/orderlist",onClick:function(){return m("orderlist")},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("orderlist"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(u.MJA,{className:"mr-2"}),(0,x.jsx)("span",{children:"OrderList"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)(l.rU,{to:"/admin/settings",onClick:function(){return m("settings")},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("settings"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(o.nbt,{className:"mr-2"}),(0,x.jsx)("span",{children:"Settings"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("button",{onClick:function(){e((0,f.TX)())},className:"flex items-center justify-center py-3 px-6 rounded-lg text-gray-700 hover:bg-gray-300 ".concat("logout"===y?"bg-gray-300 text-gray-800 font-semibold":""),children:[(0,x.jsx)(o.xqh,{className:"ml-9"}),(0,x.jsx)("span",{children:"LogOut"})]})})]})})]})}),(0,x.jsx)("div",{className:"flex-1 bg-white p-8",children:(0,x.jsx)(i.j3,{})})]}):null}},4822:function(e,t,n){n.d(t,{AW:function(){return d},TX:function(){return u},a$:function(){return l},h8:function(){return p},pH:function(){return o}});var r=n(4165),s=n(5861),a=n(1243),c=n(2062),i=n.n(c),l=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/register",e);case 4:n({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?n({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):n({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},o=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/login",e);case 4:s=t.sent,console.log(s),n({type:"USER_LOGIN_SUCCESS",payload:s.data}),localStorage.setItem("currentUser",JSON.stringify(s.data)),window.location.href="/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n({type:"USER_LOGIN_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},d=function(){return function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,a.Z.get("/api/users/getallusers");case 4:n=e.sent,t({type:"GET_USERS_SUCCESS",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/api/users/deleteuser",{userid:e});case 3:i()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=36.9b12b849.chunk.js.map