"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[5822],{5822:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var r=s(4165),n=s(5861),a=s(9439),o=s(2791),l=s(1087),i=s(4270),c=s(6856),m=s(978),u=s(3853),d=s(8880),x=s(1243),g=s(5985),p=(s(5462),s(184)),h=function(){var e=(0,d.D3)().loginWithRedirect,t=(0,o.useState)(""),s=(0,a.Z)(t,2),h=s[0],f=s[1],b=(0,o.useState)(""),y=(0,a.Z)(b,2),j=y[0],w=y[1],N=(0,o.useState)(!1),v=(0,a.Z)(N,2),k=v[0],S=v[1],C=(0,o.useState)(!1),A=(0,a.Z)(C,2),Z=A[0],O=A[1];(0,o.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]);var z=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var s,n,a,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k){e.next=3;break}return e.abrupt("return",g.Am.warn("Please agree to the checkbox"));case 3:return O(!0),s={email:h,password:j},"https://pizzaking.onrender.com/api/users/login",e.prev=6,e.next=9,x.Z.post("https://pizzaking.onrender.com/api/users/login",s);case 9:200===(n=e.sent).status?(O(!1),localStorage.setItem("currentUser",JSON.stringify(n.data)),a=JSON.parse(localStorage.getItem("currentUser")),g.Am.success("Welcome Back ".concat(a.name),{position:"top-right",toastId:"welcome-toast",className:"welcome-toast",bodyClassName:"welcome-toast-body",progressClassName:"welcome-toast-progress",closeButton:!1,autoClose:3e3,hideProgressBar:!0}),setTimeout((function(){window.location.href="/"}),1500)):g.Am.error("Login not successful!"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),e.t0.response?(O(!1),400===e.t0.response.status?(o=e.t0.response.data.message,g.Am.error(o)):429===e.t0.response.status?g.Am.error("Too many login attempts, please try again after 1 min."):g.Am.error("An error occurred during login")):g.Am.error("Network Error");case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),q=(0,o.useState)(!1),E=(0,a.Z)(q,2),F=E[0],I=E[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(i.q,{children:(0,p.jsx)("title",{children:"Login"})}),(0,p.jsx)("div",{className:"flex justify-center items-centerw-full lg:w-1/2 xl:w-2/5 px-4 mb-16 lg:mb-0 mx-auto  items-center",children:(0,p.jsxs)("div",{className:" lg:py-20 mx-auto lg:mr-0",children:[(0,p.jsx)("h3",{className:"font-heading text-4xl text-gray-900 font-semibold mb-4",children:"Sign in to your account"}),(0,p.jsx)("p",{className:"text-lg text-gray-500 mb-10",children:"Greetings on your return! We kindly request you to enter your details."}),(0,p.jsx)("div",{className:"w-full md:w-1/2 px-2 mb-3 md:mb-0 flex items-center justify-end ml-24",children:(0,p.jsxs)("button",{onClick:function(){return e()},className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-full shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",children:[(0,p.jsx)(m.hZJ,{className:"mr-2"}),(0,p.jsx)("span",{className:"text-sm font-semibold text-gray-100",children:"Login with Auth"})]})}),(0,p.jsxs)("div",{className:"flex mb-6 items-center",children:[(0,p.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,p.jsx)("span",{className:"mx-4 text-sm font-semibold text-gray-500",children:"Or"}),(0,p.jsx)("div",{className:"w-full h-px bg-gray-300"})]}),(0,p.jsxs)("form",{onSubmit:z,children:[(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("label",{className:"block mb-1.5 text-sm text-gray-900 font-semibold",htmlFor:"",children:"Email"}),(0,p.jsx)("input",{type:"email",value:h,onChange:function(e){return f(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"contact@pizzaking.com"})]}),(0,p.jsxs)("div",{className:"mb-7",children:[(0,p.jsxs)("div",{className:"flex mb-1.5 items-center justify-between",children:[(0,p.jsx)("label",{className:"block text-sm text-gray-900 font-semibold",htmlFor:"",children:"Password"}),(0,p.jsx)(l.rU,{to:"/forgot_password",className:"inline-block text-xs font-semibold text-orange-900 hover:text-gray-900",children:"Forget password?"})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("input",{id:"password",type:F?"text":"password",value:j,onChange:function(e){return w(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"Enter your password"}),(0,p.jsx)("button",{type:"button",onClick:function(){I(!F)},className:"absolute top-1/2 right-0 transform -translate-y-1/2 mr-3 focus:outline-none",children:F?(0,p.jsx)(c.wqE,{}):(0,p.jsx)(c.t2l,{})})]}),(0,p.jsx)("small",{className:"block text-center text-gray-500 text-sm mt-2",children:"We'll never share your credential details with anyone else."})]}),(0,p.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,p.jsx)("input",{type:"checkbox",defaultValue:"",id:"",className:"mb-2",checked:k,onChange:function(e){S(e.target.checked)}}),(0,p.jsx)("label",{className:"ml-2 text-xs text-gray-800 mb-3",htmlFor:"",children:(0,p.jsx)("button",{children:"agree to T&C "})})]}),Z?(0,p.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,p.jsx)(u.dAq,{className:"animate-spin text-4xl mr-2 text-blue-500"}),(0,p.jsx)("span",{className:"text-lg font-semibold text-blue-500",children:"Sending Req..."})]}):(0,p.jsx)("button",{className:"relative group block w-full mb-6 py-3 px-5 text-center text-sm font-semibold text-orange-50 bg-orange-900 rounded-full overflow-hidden",type:"submit",children:"Login"}),(0,p.jsxs)("span",{className:"text-xs font-semibold text-gray-900",children:[(0,p.jsx)("span",{children:"Don\u2019t have an account?"}),(0,p.jsx)(l.rU,{to:"/register",className:"ml-1 inline-block text-orange-900 hover:text-orange-700",children:"Sign up"})]})]})]})}),(0,p.jsx)(g.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}}]);
//# sourceMappingURL=5822.9bdae3b3.chunk.js.map