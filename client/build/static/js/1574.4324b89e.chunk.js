"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[1574],{6279:function(e,s,t){t(2791);var r=t(184);s.Z=function(e){var s=e.error;return(0,r.jsx)("div",{className:"bg-red-100 border border-red-500 text-red-700 px-4 py-3 rounded relative",children:(0,r.jsx)("span",{className:"block sm:inline",children:s})})}},4822:function(e,s,t){t.d(s,{AW:function(){return u},TX:function(){return o},a$:function(){return i},h8:function(){return d}});var r=t(4165),n=t(5861),a=t(1243),l=t(2062),c=t.n(l),i=function(e){return function(){var s=(0,n.Z)((0,r.Z)().mark((function s(t){return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t({type:"USER_REGISTER_REQUEST"}),s.prev=1,s.next=4,a.Z.post("/api/users/register",e);case 4:t({type:"USER_REGISTER_SUCCESS"}),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(1),s.t0.response&&s.t0.response.data?t({type:"USER_REGISTER_FAIL",payload:s.t0.response.data}):t({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return s.stop()}}),s,null,[[1,7]])})));return function(e){return s.apply(this,arguments)}}()},o=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},u=function(){return function(){var e=(0,n.Z)((0,r.Z)().mark((function e(s){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,a.Z.get("/api/users/getallusers");case 4:t=e.sent,s({type:"GET_USERS_SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(s){return e.apply(this,arguments)}}()},d=function(e){return function(){var s=(0,n.Z)((0,r.Z)().mark((function s(t){return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.Z.post("/api/users/deleteuser",{userid:e});case 3:c()("User Deleted Succss!","success"),window.location.reload(),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),c()("Errro While Deleteing User");case 10:case"end":return s.stop()}}),s,null,[[0,7]])})));return function(e){return s.apply(this,arguments)}}()}},1574:function(e,s,t){t.r(s);var r=t(9439),n=t(2791),a=t(9434),l=t(4822),c=t(7689),i=t(1087),o=t(8617),u=t(3853),d=t(6355),m=t(3728),x=t(7425),p=t(6856),h=t(4270),f=t(8880),g=t(6279),v=t(263),j=t(5985),b=(t(5462),t(184));s.default=function(){var e=(0,a.v9)((function(e){return e.registerUserReducer})),s=e.error,t=e.success,N=e.loading,y=(0,f.D3)(),w=y.loginWithRedirect,S=y.isAuthenticated,E=(0,a.v9)((function(e){return e.getAllUsersReducer})).users,Z=(0,a.I0)();(0,n.useEffect)((function(){Z((0,l.AW)())}),[Z]);var A=(0,n.useState)(""),R=(0,r.Z)(A,2),k=R[0],C=R[1],U=(0,n.useState)(""),P=(0,r.Z)(U,2),_=P[0],T=P[1],I=(0,n.useState)(""),G=(0,r.Z)(I,2),F=G[0],W=G[1],q=(0,n.useState)(!1),D=(0,r.Z)(q,2),J=D[0],L=D[1],$=(0,n.useState)(""),B=(0,r.Z)($,2),Q=B[0],z=B[1],H=(0,n.useState)(!1),M=(0,r.Z)(H,2),O=M[0],V=M[1],X=(0,n.useState)(""),Y=(0,r.Z)(X,2),K=Y[0],ee=Y[1],se=(0,n.useState)(!1),te=(0,r.Z)(se,2),re=te[0],ne=te[1],ae=(0,n.useState)(!1),le=(0,r.Z)(ae,2),ce=le[0],ie=le[1],oe=function(){L((function(e){return!e}))},ue=(0,c.s0)();(0,n.useEffect)((function(){Z((0,l.AW)())}),[Z]),(0,n.useEffect)((function(){t&&(C(""),T(""),W(""),z(""),j.Am.success("Registration Success please verify your email"),setTimeout((function(){ue("/login")}),3e3))}),[t,ue]);var de=(0,n.useState)(!1),me=(0,r.Z)(de,2),xe=me[0],pe=me[1],he=function(e){var s=/[!@#$%^&*(),.?":{}|<>]/.test(e),t=/[a-zA-Z]/.test(e),r=/[0-9]/.test(e);return s&&t&&r?"strong":e.length>=8?"medium":"weak"};return S&&E&&(j.Am.warn("You are already registered with us",{position:"top-right",toastId:"welcome-toast",className:"welcome-toast",bodyClassName:"welcome-toast-body",progressClassName:"welcome-toast-progress",closeButton:!1,autoClose:3e3,hideProgressBar:!0}),setTimeout((function(){window.location.href="/"}),1500)),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.q,{children:(0,b.jsx)("title",{children:"Registration"})}),N&&(0,b.jsx)(v.Z,{}),s&&!t&&(0,b.jsx)(g.Z,{error:s}),(0,b.jsx)("section",{className:"bg-white min-h-screen",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"bg-blue-600 lg:block hidden col-span-1 text-white py-12 px-12  flex-col justify-center items-center ",children:[(0,b.jsx)("h1",{className:"text-5xl mb-4",children:"Join Us"}),(0,b.jsx)("p",{className:"text-2xl mb-8",children:"Food delivered to your door & 5000+ Happy Customer"}),(0,b.jsxs)("ul",{className:"mb-6",children:[(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"Food delivery made easy"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"From our kitchen to your table"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"Good food, great service, delivered"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"We bring the restaurant to you"]})]}),xe?(0,b.jsxs)("div",{className:"flex items-center mb-6",children:[(0,b.jsx)(u.dAq,{className:"animate-spin text-2xl mr-2"}),"Joining..."]}):(0,b.jsx)("button",{className:"bg-white text-blue-600 px-4 py-2 rounded-md mb-6",onClick:function(){pe(!0),w()},children:"Join Now"}),(0,b.jsxs)("p",{children:["Already have an account?"," ",(0,b.jsx)(i.rU,{to:"/login",className:"underline",children:"Login here."})]})]}),(0,b.jsxs)("div",{className:"col-span-1 bg-white p-10 lg:p-20",children:[(0,b.jsxs)("div",{className:"text-center mb-10",children:[(0,b.jsx)(d.m3W,{className:"text-6xl mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-4xl mb-4",children:"Create an Account"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("span",{className:"mr-2",children:"Or sign up with"}),(0,b.jsxs)("button",{className:"text-white bg-red-600 py-2 px-4 rounded-md focus:outline-none hover:bg-red-700",onClick:function(){return w()},children:[(0,b.jsx)(m.JM8,{className:"inline-block"})," Google"]})]})]}),(0,b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O)if(F.length<6)j.Am.warn("Password must be at least 6 characters");else if(F!==Q)j.Am.warn("Password does not match");else if(""===k.trim())j.Am.warn("Name is required");else if(k.trim().length<3)j.Am.warn("Name must be at least 3 characters");else{var t={name:k,email:_,password:F,confirmPassword:Q},r=E.find((function(e){return e.email===_}));if(r&&r.isVerified)j.Am.warn("Email already exists. Please use a different email.");else try{ie(!0),Z((0,l.a$)(t))}catch(s){console.log(s),ie(!0),j.Am.error("An error occurred. Please try again.")}}else j.Am.warn("Please agree to the terms of service.")},children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Name",value:k,onChange:function(e){return C(e.target.value)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(d.q1E,{className:"text-gray-500"})})]})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"email",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email",value:_,onChange:function(e){return T(e.target.value)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(p.g5G,{className:"text-gray-500 ".concat(E.find((function(e){return e.email===_}))?"text-red-500":"")})})]}),E.find((function(e){return e.email===_}))&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Email already registered."})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:J?"text":"password",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Password",value:F,onChange:function(e){var s=e.target.value;W(s);var t=he(s);ee(t)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:J?(0,b.jsx)(p.wqE,{className:"text-gray-500 cursor-pointer",onClick:oe}):(0,b.jsx)(p.t2l,{className:"text-gray-500 cursor-pointer",onClick:oe})})]}),F&&(0,b.jsx)("div",{className:"text-sm mt-1",children:(0,b.jsxs)("span",{className:"mr-1 font-semibold ".concat("strong"===K?"text-green-500":"medium"===K?"text-yellow-500":"text-red-500"),children:["Password strength: ",K]})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"password",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm Password",value:Q,onChange:function(e){z(e.target.value),ne(e.target.value===F)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(x.xuE,{className:"text-gray-500"})})]}),Q&&!re&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match."})]}),(0,b.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2",checked:O,onChange:function(e){V(e.target.checked)}}),(0,b.jsxs)("span",{className:"text-sm",children:["I agree to the"," ",(0,b.jsx)("a",{href:"/",className:"text-blue-600 underline",children:"Terms of Service"})," ","and"," ",(0,b.jsx)("a",{href:"/",className:"text-blue-600 underline",children:"Privacy Policy"}),"."]})]}),ce?(0,b.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,b.jsx)(u.dAq,{className:"animate-spin text-2xl mr-2"}),"Registering..."]}):(0,b.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none",children:"Register"})]})]})]})}),(0,b.jsx)(j.Ix,{position:"top-center",autoClose:2e3})]})}}}]);
//# sourceMappingURL=1574.4324b89e.chunk.js.map