"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[574],{6279:function(e,t,s){s(2791);var r=s(184);t.Z=function(e){var t=e.error;return(0,r.jsx)("div",{className:"bg-red-100 border border-red-500 text-red-700 px-4 py-3 rounded relative",children:(0,r.jsx)("span",{className:"block sm:inline",children:t})})}},1916:function(e,t,s){var r=s(2791),n=s(184);t.Z=function(e){var t=e.success,s=e.dismiss;return(0,r.useEffect)((function(){var e=setTimeout((function(){s()}),3e3);return function(){return clearTimeout(e)}}),[s]),(0,n.jsx)("div",{className:"bg-green-200 text-green-800 border border-green-300 p-4 rounded animate__animated animate__fadeInDown",children:t})}},4822:function(e,t,s){s.d(t,{AW:function(){return d},TX:function(){return u},a$:function(){return i},h8:function(){return m},pH:function(){return o}});var r=s(4165),n=s(5861),a=s(1243),c=s(2062),l=s.n(c),i=function(e){return function(){var t=(0,n.Z)((0,r.Z)().mark((function t(s){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/register",e);case 4:s({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?s({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):s({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},o=function(e){return function(){var t=(0,n.Z)((0,r.Z)().mark((function t(s){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,a.Z.post("/api/users/login",e);case 4:n=t.sent,console.log(n),s({type:"USER_LOGIN_SUCCESS",payload:n.data}),localStorage.setItem("currentUser",JSON.stringify(n.data)),window.location.href="/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),s({type:"USER_LOGIN_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},d=function(){return function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,a.Z.get("/api/users/getallusers");case 4:s=e.sent,t({type:"GET_USERS_SUCCESS",payload:s.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,n.Z)((0,r.Z)().mark((function t(s){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.Z.post("/api/users/deleteuser",{userid:e});case 3:l()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},1574:function(e,t,s){s.r(t);var r=s(9439),n=s(2791),a=s(9434),c=s(4822),l=s(7689),i=s(1087),o=s(8617),u=s(3853),d=s(6355),m=s(3728),x=s(7425),p=s(6856),f=s(4270),h=s(8880),g=s(6279),v=s(263),j=s(1916),b=s(184);t.default=function(){var e=(0,a.v9)((function(e){return e.registerUserReducer})),t=e.error,s=e.success,N=e.loading,y=(0,h.D3)().loginWithRedirect,S=(0,a.v9)((function(e){return e.getAllUsersReducer})).users,w=(0,a.I0)();(0,n.useEffect)((function(){w((0,c.AW)())}),[w]);var E=(0,n.useState)(""),Z=(0,r.Z)(E,2),R=Z[0],U=Z[1],k=(0,n.useState)(""),_=(0,r.Z)(k,2),C=_[0],I=_[1],T=(0,n.useState)(""),A=(0,r.Z)(T,2),G=A[0],P=A[1],F=(0,n.useState)(!1),L=(0,r.Z)(F,2),W=L[0],q=L[1],D=(0,n.useState)(""),J=(0,r.Z)(D,2),O=J[0],Q=J[1],$=(0,n.useState)(!1),H=(0,r.Z)($,2),z=H[0],M=H[1],X=(0,n.useState)(""),B=(0,r.Z)(X,2),K=B[0],V=B[1],Y=(0,n.useState)(!1),ee=(0,r.Z)(Y,2),te=ee[0],se=ee[1],re=function(){q((function(e){return!e}))},ne=(W?p.wqE:p.t2l,(0,l.s0)()),ae=function(e){alert(e)};(0,n.useEffect)((function(){w((0,c.AW)())}),[w]),(0,n.useEffect)((function(){s&&(U(""),I(""),P(""),Q(""),setTimeout((function(){ne("/login")}),3e3))}),[s,ne]);var ce=(0,n.useState)(!1),le=(0,r.Z)(ce,2),ie=le[0],oe=le[1],ue=function(e){var t=/[!@#$%^&*(),.?":{}|<>]/.test(e),s=/[a-zA-Z]/.test(e),r=/[0-9]/.test(e);return t&&s&&r?"strong":e.length>=8?"medium":"weak"};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.q,{children:(0,b.jsx)("title",{children:"Registration"})}),N&&(0,b.jsx)(v.Z,{}),s&&!t&&(0,b.jsx)(j.Z,{success:"User Registered Successfully"}),t&&!s&&(0,b.jsx)(g.Z,{error:t}),(0,b.jsx)("section",{className:"bg-white min-h-screen",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"bg-blue-600 lg:block col-span-1 text-white py-12 px-12 flex flex-col justify-center items-center",children:[(0,b.jsx)("h1",{className:"text-5xl mb-4",children:"Join Us"}),(0,b.jsx)("p",{className:"text-2xl mb-8",children:"Food delivered to your door & 5000+ Happy Customer"}),(0,b.jsxs)("ul",{className:"mb-6",children:[(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"Food delivery made easy"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"From our kitchen to your table"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"Good food, great service, delivered"]}),(0,b.jsxs)("li",{className:"flex items-center mb-3",children:[(0,b.jsx)(o.dZ6,{className:"text-2xl mr-2"}),"We bring the restaurant to you"]})]}),ie?(0,b.jsxs)("div",{className:"flex items-center mb-6",children:[(0,b.jsx)(u.dAq,{className:"animate-spin text-2xl mr-2"}),"Joining..."]}):(0,b.jsx)("button",{className:"bg-white text-blue-600 px-4 py-2 rounded-md mb-6",onClick:function(){oe(!0),y()},children:"Join Now"}),(0,b.jsxs)("p",{children:["Already have an account?"," ",(0,b.jsx)(i.rU,{to:"/login",className:"underline",children:"Login here."})]})]}),(0,b.jsxs)("div",{className:"col-span-1 bg-white p-10 lg:p-20",children:[(0,b.jsxs)("div",{className:"text-center mb-10",children:[(0,b.jsx)(d.m3W,{className:"text-6xl mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-4xl mb-4",children:"Create an Account"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("span",{className:"mr-2",children:"Or sign up with"}),(0,b.jsxs)("button",{className:"text-white bg-red-600 py-2 px-4 rounded-md focus:outline-none hover:bg-red-700",onClick:function(){return y()},children:[(0,b.jsx)(m.JM8,{className:"inline-block"})," Google"]})]})]}),(0,b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),z)if(S.find((function(e){return e.email===C})))ae("Email already exists. Please use a different email.");else{var s={name:R,email:C,password:G,confirmPassword:O};try{w((0,c.a$)(s))}catch(t){console.log(t),ae("An error occurred. Please try again.")}}else ae("Please agree to the terms of service.")},children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Name",value:R,onChange:function(e){return U(e.target.value)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(d.q1E,{className:"text-gray-500"})})]})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"email",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email",value:C,onChange:function(e){return I(e.target.value)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(p.g5G,{className:"text-gray-500 ".concat(S.find((function(e){return e.email===C}))?"text-red-500":"")})})]}),S.find((function(e){return e.email===C}))&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Email already registered."})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:W?"text":"password",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Password",value:G,onChange:function(e){var t=e.target.value;P(t);var s=ue(t);V(s)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:W?(0,b.jsx)(p.wqE,{className:"text-gray-500 cursor-pointer",onClick:re}):(0,b.jsx)(p.t2l,{className:"text-gray-500 cursor-pointer",onClick:re})})]}),G&&(0,b.jsx)("div",{className:"text-sm mt-1",children:(0,b.jsxs)("span",{className:"mr-1 font-semibold ".concat("strong"===K?"text-green-500":"medium"===K?"text-yellow-500":"text-red-500"),children:["Password strength: ",K]})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"password",className:"w-full border rounded-md pl-4 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm Password",value:O,onChange:function(e){Q(e.target.value),se(e.target.value===G)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(x.xuE,{className:"text-gray-500"})})]}),O&&!te&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Passwords do not match."})]}),(0,b.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",className:"mr-2",checked:z,onChange:function(e){M(e.target.checked)}}),(0,b.jsxs)("span",{className:"text-sm",children:["I agree to the"," ",(0,b.jsx)("a",{href:"/",className:"text-blue-600 underline",children:"Terms of Service"})," ","and"," ",(0,b.jsx)("a",{href:"/",className:"text-blue-600 underline",children:"Privacy Policy"}),"."]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("button",{disabled:!te,type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none",children:"Register"})})]})]})]})})]})}}}]);
//# sourceMappingURL=574.50848b56.chunk.js.map