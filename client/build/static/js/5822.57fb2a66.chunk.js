"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[5822],{5822:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var s=r(4165),n=r(5861),a=r(9439),l=r(2791),o=r(1087),i=r(4270),c=r(6856),m=r(978),u=r(3853),d=r(8880),x=r(1243),g=r(5985),p=(r(5462),r(184)),f=function(){var e=(0,d.D3)().loginWithRedirect,t=(0,l.useState)(""),r=(0,a.Z)(t,2),f=r[0],h=r[1],b=(0,l.useState)(""),y=(0,a.Z)(b,2),j=y[0],v=y[1],w=(0,l.useState)(!1),N=(0,a.Z)(w,2),k=N[0],S=N[1],A=(0,l.useState)(!1),Z=(0,a.Z)(A,2),C=Z[0],z=Z[1];(0,l.useEffect)((function(){localStorage.getItem("currentUser")&&(window.location.href="/")}),[]);var q=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var r,n,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),k){e.next=3;break}return e.abrupt("return",g.Am.warn("Please agree to the checkbox"));case 3:return z(!0),r={email:f,password:j},"https://pizzaking.onrender.com/api/users/login",e.prev=6,e.next=9,x.Z.post("https://pizzaking.onrender.com/api/users/login",r);case 9:200===(n=e.sent).status?(z(!1),localStorage.setItem("currentUser",JSON.stringify(n.data)),a=JSON.parse(localStorage.getItem("currentUser")),g.Am.success("Welcome Back ".concat(a.name),{position:"bottom-right"}),window.location.href="/"):g.Am.error("Login not successful!"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),e.t0.response?(z(!1),400===e.t0.response.status?(l=e.t0.response.data.message,g.Am.error(l)):429===e.t0.response.status?g.Am.error("Too many login attempts, please try again after 1 min."):g.Am.error("An error occurred during login")):g.Am.error("Network Error");case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),E=(0,l.useState)(!1),U=(0,a.Z)(E,2),F=U[0],I=U[1];return(0,p.jsxs)("div",{children:[(0,p.jsx)(i.q,{children:(0,p.jsx)("title",{children:"Login"})}),(0,p.jsx)("div",{className:"flex justify-center items-centerw-full lg:w-1/2 xl:w-2/5 px-4 mb-16 lg:mb-0 mx-auto  items-center",children:(0,p.jsxs)("div",{className:" lg:py-20 mx-auto lg:mr-0",children:[(0,p.jsx)("h3",{className:"font-heading text-4xl text-gray-900 font-semibold mb-4",children:"Sign in to your account"}),(0,p.jsx)("p",{className:"text-lg text-gray-500 mb-10",children:"Greetings on your return! We kindly request you to enter your details."}),(0,p.jsx)("div",{className:"w-full md:w-1/2 px-2 mb-3 md:mb-0 flex items-center justify-end ml-24",children:(0,p.jsxs)("button",{onClick:function(){return e()},className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-full shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",children:[(0,p.jsx)(m.hZJ,{className:"mr-2"}),(0,p.jsx)("span",{className:"text-sm font-semibold text-gray-100",children:"Login with Auth"})]})}),(0,p.jsxs)("div",{className:"flex mb-6 items-center",children:[(0,p.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,p.jsx)("span",{className:"mx-4 text-sm font-semibold text-gray-500",children:"Or"}),(0,p.jsx)("div",{className:"w-full h-px bg-gray-300"})]}),(0,p.jsxs)("form",{onSubmit:q,children:[(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("label",{className:"block mb-1.5 text-sm text-gray-900 font-semibold",htmlFor:"",children:"Email"}),(0,p.jsx)("input",{type:"email",value:f,onChange:function(e){return h(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"contact@pizzaking.com"})]}),(0,p.jsxs)("div",{className:"mb-7",children:[(0,p.jsxs)("div",{className:"flex mb-1.5 items-center justify-between",children:[(0,p.jsx)("label",{className:"block text-sm text-gray-900 font-semibold",htmlFor:"",children:"Password"}),(0,p.jsx)(o.rU,{to:"/forgot_password",className:"inline-block text-xs font-semibold text-orange-900 hover:text-gray-900",children:"Forget password?"})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("input",{id:"password",type:F?"text":"password",value:j,onChange:function(e){return v(e.target.value)},className:"w-full py-3 px-4 text-sm text-gray-900 placeholder-gray-400 border border-gray-200 focus:border-purple-500 focus:outline-purple rounded-lg",placeholder:"Enter your password"}),(0,p.jsx)("button",{type:"button",onClick:function(){I(!F)},className:"absolute top-1/2 right-0 transform -translate-y-1/2 mr-3 focus:outline-none",children:F?(0,p.jsx)(c.wqE,{}):(0,p.jsx)(c.t2l,{})})]}),(0,p.jsx)("small",{className:"block text-center text-gray-500 text-sm mt-2",children:"We'll never share your credential details with anyone else."})]}),(0,p.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,p.jsx)("input",{type:"checkbox",defaultValue:"",id:"",className:"mb-2",checked:k,onChange:function(e){S(e.target.checked)}}),(0,p.jsx)("label",{className:"ml-2 text-xs text-gray-800 mb-3",htmlFor:"",children:"Agree to T&C"})]}),C?(0,p.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,p.jsx)(u.dAq,{className:"animate-spin text-2xl mr-2"}),"Sending Req..."]}):(0,p.jsx)("button",{className:"relative group block w-full mb-6 py-3 px-5 text-center text-sm font-semibold text-orange-50 bg-orange-900 rounded-full overflow-hidden",type:"submit",children:"Login"}),(0,p.jsxs)("span",{className:"text-xs font-semibold text-gray-900",children:[(0,p.jsx)("span",{children:"Don\u2019t have an account?"}),(0,p.jsx)(o.rU,{to:"/register",className:"ml-1 inline-block text-orange-900 hover:text-orange-700",children:"Sign up"})]})]})]})}),(0,p.jsx)(g.Ix,{})]})}}}]);
//# sourceMappingURL=5822.57fb2a66.chunk.js.map