"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[387],{5387:function(e,t,r){r.r(t);var n=r(9439),a=r(2791),i=r(9002),o=r(9434),s=r(2617),c=r(6279),u=r(1916),l=r(8617),d=r(184);t.default=function(){var e=(0,a.useState)(""),t=(0,n.Z)(e,2),r=t[0],p=t[1],f=(0,a.useState)(),h=(0,n.Z)(f,2),m=h[0],x=h[1],g=(0,a.useState)(),v=(0,n.Z)(g,2),b=v[0],y=v[1],Z=(0,a.useState)(),z=(0,n.Z)(Z,2),w=z[0],S=z[1],j=(0,a.useState)(""),E=(0,n.Z)(j,2),P=E[0],_=E[1],A=(0,a.useState)(""),I=(0,n.Z)(A,2),N=I[0],k=I[1],C=(0,a.useState)(""),D=(0,n.Z)(C,2),G=D[0],T=D[1],F=(0,o.v9)((function(e){return e.addPizzaReducer})),U=(F.loading,F.error),L=F.success,R=(0,a.useState)(!1),Y=(0,n.Z)(R,2),q=Y[0],B=Y[1],Q=(0,a.useState)(!1),W=(0,n.Z)(Q,2),M=W[0],V=W[1],H=(0,a.useState)(!1),J=(0,n.Z)(H,2),K=J[0],O=J[1],X=(0,o.I0)(),$=function(){p(""),_(""),k(""),T(""),x(""),S(""),y("")};return(0,d.jsxs)("div",{children:[M&&(0,d.jsx)(s.Z,{}),K&&U&&(0,d.jsx)(c.Z,{error:"add new pizza error"}),q&&L&&(0,d.jsx)(u.Z,{success:"Pizza Added Successfully"}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:r,image:P,description:N,category:G,prices:{small:m,medium:w,large:b}};V(!0),X((0,i.PW)(t)).then((function(){V(!1),B(!0),$(),setTimeout((function(){B(!1)}),2e3)})).catch((function(){V(!1),O(!0)}))},className:"bg-light p-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridEmail",children:"Name"}),(0,d.jsx)("input",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridEmail",type:"text",value:r,onChange:function(e){return p(e.target.value)},placeholder:"Enter email"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridCity",children:"Small Price"}),(0,d.jsx)("input",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridCity",type:"text",value:m,onChange:function(e){return x(e.target.value)},placeholder:"Enter Small Price"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridState",children:"Medium Price"}),(0,d.jsx)("input",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridState",type:"text",value:w,onChange:function(e){return S(e.target.value)},placeholder:"Enter medium price"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridZip",children:"Large Price"}),(0,d.jsx)("input",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridZip",type:"text",value:b,onChange:function(e){return y(e.target.value)},placeholder:"Enter Large Price"})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"category",children:"Category"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("select",{className:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline",id:"category",value:G,onChange:function(e){return T(e.target.value)},children:[(0,d.jsx)("option",{value:"burger",children:"burger"}),(0,d.jsx)("option",{value:"fries",children:"fries"}),(0,d.jsx)("option",{value:"mix",children:"mix"}),(0,d.jsx)("option",{value:"drink",children:"drinks"}),(0,d.jsx)("option",{value:"pizza",children:"pizza"}),(0,d.jsx)("option",{value:"thali",children:"thali"})]}),(0,d.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,d.jsx)(l.YZt,{})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridPassword",children:"Image"}),(0,d.jsx)("input",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridPassword",type:"text",value:P,onChange:function(e){return _(e.target.value)},placeholder:"Add Image URL"})]}),(0,d.jsxs)("div",{className:"sm:col-span-2",children:[(0,d.jsx)("label",{className:"block mb-2 font-bold text-gray-700",htmlFor:"formGridAddress1",children:"Description"}),(0,d.jsx)("textarea",{required:!0,className:"w-full px-4 py-2 mb-3 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline",id:"formGridAddress1",value:N,onChange:function(e){return k(e.target.value)},placeholder:"Enter Description"})]})]}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50",children:"Add New"})]})]})}},2617:function(e,t,r){r(2791);var n=r(6355),a=r(184);t.Z=function(){return(0,a.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"absolute top-1/2 left-30 transform -translate-y-1/2",children:(0,a.jsx)(n.fCD,{className:"animate-spin text-6xl text-gray-600"})})})}},6279:function(e,t,r){r(2791);var n=r(184);t.Z=function(e){var t=e.error;return(0,n.jsx)("div",{className:"bg-red-100 border border-red-500 text-red-700 px-4 py-3 rounded relative",children:(0,n.jsx)("span",{className:"block sm:inline",children:t})})}},1916:function(e,t,r){var n=r(2791),a=r(184);t.Z=function(e){var t=e.success,r=e.dismiss;return(0,n.useEffect)((function(){var e=setTimeout((function(){r()}),3e3);return function(){return clearTimeout(e)}}),[r]),(0,a.jsx)("div",{className:"bg-green-200 text-green-800 border border-green-300 p-4 rounded animate__animated animate__fadeInDown",children:t})}},9002:function(e,t,r){r.d(t,{DP:function(){return f},Fn:function(){return d},GF:function(){return p},PW:function(){return u},Ve:function(){return l},bS:function(){return c}});var n=r(4165),a=r(5861),i=r(1243),o=r(2062),s=r.n(o),c=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PIZZAS_REQUEST"}),e.prev=1,e.next=4,i.Z.get("/api/pizzas/getAllPizzas");case 4:r=e.sent,t({type:"GET_PIZZAS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_PIZZAS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_PIZZAS_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/addpizza",{pizza:e});case 4:r({type:"ADD_PIZZAS_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r({type:"ADD_PIZZAS_FAIL",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/getpizzabyid",{pizzaId:e});case 4:a=t.sent,r({type:"GET_PIZZABYID_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"GET_PIZZABYID_FAIL",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPDATE_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,i.Z.post("/api/pizzas/updatepizza",{updatedPizza:e});case 4:a=t.sent,r({type:"UPDATE_PIZZABYID_SUCCESS",payload:a.data}),window.location.href="/admin/pizzalist",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"UPDATE_PIZZABYID_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.post("/api/pizzas/deletepizza",{pizzaId:e});case 3:s()("Pizza Deleted Succss!","success"),window.location.href="/admin/pizzalist",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s()("Errro While Deleteing Pizza");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var o,s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"GET_PIZZAS_REQUEST"}),r.prev=1,r.next=4,i.Z.get("/api/pizzas/getAllPizzas");case 4:s=r.sent,o=s.data.filter((function(t){return t.name.toLowerCase().includes(e)})),"all"!==t&&(o=s.data.filter((function(e){return e.category.toLowerCase()===t}))),a({type:"GET_PIZZAS_SUCCESS",payload:o}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),a({type:"GET_PIZZAS_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=387.a2bbe64a.chunk.js.map