"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[714],{2714:function(e,t,r){r.r(t);var n=r(3433),a=r(9439),s=r(2791),i=r(1087),c=r(3853),o=r(6355),u=r(8617),l=r(978),d=r(8820),p=r(6856),f=r(9434),h=r(9002),x=r(4822),y=r(5181),g=r(3885),v=r(184);t.default=function(){var e=(0,s.useState)(!0),t=(0,a.Z)(e,2),r=(t[0],t[1],(0,f.I0)()),m=(0,s.useRef)(null),b=(0,s.useRef)(null),E=(0,s.useRef)(null),Z=(0,s.useRef)(null),w=(0,s.useRef)(null),S=(0,s.useRef)(null),_=(0,s.useRef)(null),R=(0,f.v9)((function(e){return e.getAllPizzaReducer})).pizzas,j=(0,f.v9)((function(e){return e.allUserOrdersReducer})).orders,A=(0,f.v9)((function(e){return e.getAllUsersReducer})).users;(0,s.useEffect)((function(){r((0,h.bS)()),r((0,x.AW)()),r((0,y.zk)())}),[r]),(0,s.useEffect)((function(){if(b.current){var e=b.current.getContext("2d"),t=A.map((function(e){return"".concat(new Date(e.createdAt).getDate()," ").concat(new Date(e.createdAt).toLocaleString("default",{month:"long"}))})),r=A.map((function(e,t){return t+1}));m.current?(m.current.data.labels=t,m.current.data.datasets[0].data=r,m.current.update()):m.current=new g.ZP(e,{type:"line",data:{labels:t,datasets:[{label:"Users",data:r,backgroundColor:"rgba(23, 162, 184, 0.5)",borderColor:"rgba(23, 162, 184, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Users"},suggestedMin:0,suggestedMax:A.length}}}})}}),[A]),(0,s.useEffect)((function(){if(E.current&&R.length){var e=E.current.getContext("2d"),t=R.map((function(e){return e.category})),r=(0,n.Z)(new Set(t)),a=r.map((function(e){return t.filter((function(t){return t===e})).length}));new g.ZP(e,{type:"bar",data:{labels:r,datasets:[{label:"Products",data:a,backgroundColor:["rgba(108, 117, 125, 1.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)"].slice(0,r.length),borderColor:"rgba(108, 117, 125, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Category"}},y:{display:!0,title:{display:!0,text:"Products"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,n.Z)(a))+1}}}})}}),[R]),(0,s.useEffect)((function(){if(Z.current&&j.length){var e=Z.current.getContext("2d"),t={};j.forEach((function(e){var r=new Date(e.createdAt).toDateString();t[r]?t[r]+=1:t[r]=1}));var r=Object.keys(t),n=Object.values(t);new g.ZP(e,{type:"line",data:{labels:r,datasets:[{label:"Orders",data:n,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Day"}},y:{display:!0,title:{display:!0,text:"Orders"},suggestedMin:0,suggestedMax:Math.max.apply(Math,n)+1}}}})}}),[j]),(0,s.useEffect)((function(){if(w.current&&j.length){var e=w.current.getContext("2d"),t=j.map((function(e){return e.orderAmount}));new g.ZP(e,{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Revenue",data:t,backgroundColor:"rgba(40, 167, 69, 0.5)",borderColor:"rgba(40, 167, 69, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!0,title:{display:!0,text:"Month"}},y:{display:!0,title:{display:!0,text:"Revenue"},suggestedMin:0,suggestedMax:Math.max.apply(Math,(0,n.Z)(t))+1}}}})}}),[j]),(0,s.useEffect)((function(){if(S.current&&j.length){var e=S.current.getContext("2d"),t=j.filter((function(e){return e.isDelivered})),r=j.filter((function(e){return!e.isDelivered})),n={labels:["Delivered","Not Delivered"],datasets:[{data:[t.length,r.length],backgroundColor:["rgba(40, 167, 69, 0.5)","rgba(255, 99, 132, 0.5)"],borderColor:["rgba(40, 167, 69, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};new g.ZP(e,{type:"doughnut",data:n,options:{responsive:!0,maintainAspectRatio:!1}})}}),[j]),(0,s.useEffect)((function(){var e=_.current.getContext("2d");new g.ZP(e,{type:"bar",data:{labels:["Messages","Issues Resolved","Pending"],datasets:[{label:"Number of Messages",data:[150,75,28],backgroundColor:["#36A2EB","#FFCE56","#FF3131"]}]},options:{scales:{y:{beginAtZero:!0,max:200}}}})}),[]);return(0,v.jsx)("div",{className:"flex flex-col h-screen bg-gray-100",children:(0,v.jsx)("div",{className:"flex-1 p-6",children:(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/users",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Users"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Users: ",A.length," "]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-500 text-white rounded-full",children:(0,v.jsx)(c.WY8,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:b})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/products",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Products"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Products: ",R.length]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-500 text-white rounded-full",children:(0,v.jsx)(l.Lzd,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:E})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Orders"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Orders:",j.length," "]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-green-500 text-white rounded-full",children:(0,v.jsx)(o.FeP,{className:"text-2xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:Z})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Revenue"}),(0,v.jsxs)("p",{className:"text-gray-600",children:["Total Payment: Rs ",function(){var e=0;return j.forEach((function(t){e+=Number(t.orderAmount)})),e.toFixed(2)}(),"/-"]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-green-500 text-white rounded-full",children:(0,v.jsx)(u.IgD,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:w})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Order Status"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Order Status "})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,v.jsx)(p.ZjZ,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:S,width:"200",height:"200"})})]}),(0,v.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-md hover:shadow-lg transition-shadow duration-500 ease-in-out",children:[(0,v.jsxs)(i.rU,{to:"/admin/orderlist",className:"flex items-center justify-between",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"mb-2 text-lg font-bold text-gray-800",children:"Contact data"}),(0,v.jsx)("p",{className:"text-gray-600",children:"Contact Data Status"})]}),(0,v.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-500 text-white rounded-full",children:(0,v.jsx)(d.Zs0,{className:"text-xl"})})]}),(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)("canvas",{ref:_})})]})]})})})}},5181:function(e,t,r){r.d(t,{rC:function(){return o},sl:function(){return u},uI:function(){return i},zk:function(){return c}});var n=r(4165),a=r(5861),s=r(1243),i=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r().loginUserReducer.currentUser,t({type:"USER_ORDER_REQUEST"}),e.prev=2,e.next=5,s.Z.post("/api/orders/getuserorder",{email:a.email});case 5:i=e.sent,t({type:"USER_ORDER_SUCCESS",payload:i.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"USER_ORDER_FAIL",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()},c=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALL_ORDER_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/orders/alluserorder");case 4:a=e.sent,t({type:"ALL_ORDER_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALL_ORDER_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},o=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/orders/deliverorder",{orderid:e});case 4:return t.next=6,s.Z.get("/api/orders/alluserorder");case 6:i=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:i.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r,a){var i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_ALL_ORDER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/orders/canceOrder",{orderid:e});case 4:return t.next=6,s.Z.get("/api/orders/alluserorder");case 6:i=t.sent,r({type:"GET_ALL_ORDER_SUCCESS",payload:i.data}),window.location.href="/admin/orderlist",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"GET_ALL_ORDER_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()}},9002:function(e,t,r){r.d(t,{DP:function(){return f},Fn:function(){return d},GF:function(){return p},PW:function(){return u},Ve:function(){return l},bS:function(){return o}});var n=r(4165),a=r(5861),s=r(1243),i=r(2062),c=r.n(i),o=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_PIZZAS_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/pizzas/getAllPizzas");case 4:r=e.sent,t({type:"GET_PIZZAS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_PIZZAS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_PIZZAS_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/pizzas/addpizza",{pizza:e});case 4:r({type:"ADD_PIZZAS_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),r({type:"ADD_PIZZAS_FAIL",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"GET_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/pizzas/getpizzabyid",{pizzaId:e});case 4:a=t.sent,r({type:"GET_PIZZABYID_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"GET_PIZZABYID_FAIL",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPDATE_PIZZABYID_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/pizzas/updatepizza",{updatedPizza:e});case 4:a=t.sent,r({type:"UPDATE_PIZZABYID_SUCCESS",payload:a.data}),window.location.href="/admin/pizzalist",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"UPDATE_PIZZABYID_FAIL",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/api/pizzas/deletepizza",{pizzaId:e});case 3:c()("Pizza Deleted Succss!","success"),window.location.href="/admin/pizzalist",t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c()("Errro While Deleteing Pizza");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var i,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"GET_PIZZAS_REQUEST"}),r.prev=1,r.next=4,s.Z.get("/api/pizzas/getAllPizzas");case 4:c=r.sent,i=c.data.filter((function(t){return t.name.toLowerCase().includes(e)})),"all"!==t&&(i=c.data.filter((function(e){return e.category.toLowerCase()===t}))),a({type:"GET_PIZZAS_SUCCESS",payload:i}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),a({type:"GET_PIZZAS_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()}},4822:function(e,t,r){r.d(t,{AW:function(){return d},TX:function(){return l},a$:function(){return o},h8:function(){return p},pH:function(){return u}});var n=r(4165),a=r(5861),s=r(1243),i=r(2062),c=r.n(i),o=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_REGISTER_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/users/register",e);case 4:r({type:"USER_REGISTER_SUCCESS"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&t.t0.response.data?r({type:"USER_REGISTER_FAIL",payload:t.t0.response.data}):r({type:"USER_REGISTER_FAIL",payload:"An error occurred. Please try again."});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_LOGIN_REQUEST"}),t.prev=1,t.next=4,s.Z.post("/api/users/login",e);case 4:a=t.sent,console.log(a),r({type:"USER_LOGIN_SUCCESS",payload:a.data}),localStorage.setItem("currentUser",JSON.stringify(a.data)),window.location.href="/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r({type:"USER_LOGIN_FAIL",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},l=function(){return function(e){localStorage.removeItem("currentUser"),window.location.href="/login"}},d=function(){return function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS_REQUEST"}),e.prev=1,e.next=4,s.Z.get("/api/users/getallusers");case 4:r=e.sent,t({type:"GET_USERS_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"GET_USERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/api/users/deleteuser",{userid:e});case 3:c()("User Deleted Succss!","success"),window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c()("Errro While Deleteing User");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=714.fa4a3fee.chunk.js.map